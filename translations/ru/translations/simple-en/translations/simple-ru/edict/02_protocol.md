# Часть II: Протокол

---

_Представьте, что мы строим новый мир в интернете, свободный и открытый для всех. Мы не можем строить его на старом, зыбком фундаменте, где всем управляет один человек или одна компания. Пытаться смешать старое и новое — это как ставить деревянные колёса от телеги на гоночный болид. Это просто не сработает. Чтобы создать что-то по-настоящему свободное, нам нужен совершенно новый фундамент, разработанный с нуля. Это не «платформа», это протокол._

---

### (Глава 4) Архитектура освобождения

**Операционная система для идей**

Мы не строим ещё один гигантский сайт, который будет забирать ваше время и данные. Мы создаём _операционную систему для идей_ — представьте себе Windows или Android, но для ваших мыслей, а не для приложений. Цель не в том, чтобы создать одно супер-приложение для всех, а в том, чтобы подготовить плодородную почву, где каждый сможет посадить свои собственные «живые идеи», наблюдать за их ростом и связывать их с другими. Другие люди могут и должны создавать свои собственные программы для работы с этой системой. Кто-то может сделать простой архив для хранения идей, а кто-то — сложный инструмент для их анализа. Богатство и здоровье всей системы будут происходить из этого разнообразия, а не из того, что у кого-то одного есть все лучшие идеи.

По своей природе протокол можно расширять. **Идеи** (живые документы, которыми можно делиться и которые могут развиваться) — это не просто одинаковые заметки. У них есть разные типы, каждый со своим смыслом. Например, существуют `Records` (Записи), `Processes` (Процессы) или `Agents` (Агенты). Это как набор LEGO: у вас есть простые кирпичики, но есть и колёса, окна и человечки. Мы предоставляем базовый набор таких «типов идей», из которых можно построить почти всё что угодно. Но самое важное — протокол открыт. Любой может изобрести и создать свой собственный тип «идеи». И вашей программе не нужно понимать каждый тип идей в мире. Простая программа может работать только с `Records`, в то время как более продвинутая может управлять сложными `Processes`. Это позволяет системе быть гибкой и расти, поощряя людей создавать новые, уникальные инструменты.

> Sidenote: «Идеатор» на частном сервере — это как волшебная шкатулка. Он может принять вашу Идею (входные данные), обработать её и выдать результат (выходные данные). Но как именно он это делает — его «внутренний мир» и логика — остаётся полной тайной. Снаружи никто никогда не узнает, что происходит внутри.
> 
> ```mermaid
> flowchart TB
>         InputIdea[/Входящая Идея/]
>         OutputIdea[\Исходящая Идея\]
> 
>     subgraph Ideator ["<div style=\"width:260px; height:8em; display:flex; justify-content: flex-start; align-items:flex-start;\">Размещённый Идеатор</div>"]
>         direction LR
>         IdeatorService{{Сервис Идеатора}}
>         HiddenContext["Приватный Контекст / Логика"]
>         IdeatorService -- Вызывает --> HiddenContext
>     end
> 
>     InputIdea -- "Отправляет данные" --> IdeatorService
>     HiddenContext -- "Возвращает результат" --> OutputIdea
> 
>     style HiddenContext fill:#ffe,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
> ```
> 
> Сообщение может прийти из вашего личного «чёрного ящика» — вашего компьютера, где хранятся ваши данные и модели ИИ. Готовая идея, которой вы делитесь, будет содержать информацию о том, откуда она пришла, но не раскроет ваших секретов. Это создаёт честную паутину знаний, где можно отследить происхождение всего, но ваше личное пространство остаётся приватным. Вы можете работать с результатом, не нуждаясь в доступе к процессу, а если в истории идеи есть пробелы, вы можете отнестись к ним как к загадкам, которые предстоит решить, или просто принять их как есть.

Такая система освобождает создателей от бремени всё контролировать. Ответственность распределяется между всеми участниками. Цель не в том, чтобы поддерживать порядок на одной платформе, а в том, чтобы дать людям протокол, который свободен по своей природе.

---

### (Глава 5) Механика живой сети

Основа этой свободной архитектуры построена на одной простой, но мощной мысли: **контент сам устанавливает правила игры.** Здесь нет скрытых команд, секретных серверов или сложных инструкций. Вся система состоит всего из одной части: **Идеи**. Каждая Идея — это самодостаточный пакет «три в одном», который состоит из **решения** (сам контент, мысль), **схемы** (правила, которые объясняют, что это за данные и как их можно менять) и **контекста** (история его создания). Эти «пакеты» являются и сообщениями, и командами, и результатами. Больше ничего нет. Именно это даёт вам настоящую свободу и владение своими данными. Поскольку скрытых частей нет, вы никогда не будете заперты в одной системе. В любой момент вы можете забрать всю свою вселенную идей с собой. Все остальные правила — лишь логические следствия этого простого дизайна.

> Sidenote: [Акт 101: Концепция/Идея](../rfc/101_concept_idea.md)
> 
> Давайте разберёмся, что такое «Идея» или «Концепция» в этой системе. Это самый первый и важный строительный блок всего.
> 
> Представьте, что вы собираете сложную модель из LEGO. У вас ведь есть инструкция? Сама по себе инструкция — это просто книжечка с картинками, а не готовая модель. Но в ней есть всё, что нужно: список деталей и пошаговый план сборки. Без инструкции ничего не построить.
> 
> Здесь «Идея» — это и есть такая цифровая инструкция. Это файл, который описывает какой-то план: новую программу, сюжет для рассказа, который напишет ИИ, или даже план научного эксперимента. В этом файле все «детали» и «шаги» записаны по строгим правилам.
> 
> Зачем так усложнять? Чтобы у всех — и у людей, и у искусственного интеллекта — появился общий язык. Когда все идеи записаны в одном формате, их легко передавать друг другу, улучшать и вместе работать над чем-то большим и крутым. Это как универсальный чертёж, который поймёт любой инженер в любой стране. Этот документ и устанавливает правила создания таких «чертежей».

- **Неизменяемость по природе:** В протоколе есть только одно действие: поделиться Идеей. Идеи неизменны; их нельзя обновить или удалить. Чтобы развить мысль, вы создаёте новую Идею, которая ссылается на старую, сохраняя чистую и неразрывную историю творчества. Эта простота избавляет от огромного количества проблем, существующих в обычных системах.

- **Паутина ссылок:** Каждая Идея открыто хранит свою историю через **ссылки**, создавая сеть версий и цитат, где всё можно отследить. И это не просто архив, а живая, совместная сеть. Когда «родительская» Идея обновляется (то есть появляется её новая версия), все «дочерние» Идеи, которые на неё ссылаются, получают уведомление. Это позволяет владельцу «дочерней» Идеи осознанно решить, принимать ли изменения «сверху». Таким образом, вся сеть может развиваться вместе.

- **Универсальный переводчик:** Структура «три в одном» делает систему невероятно доступной. Поскольку каждая Идея несёт в себе свои правила (схему) и историю (контекст), любая программа может стать полноценным участником. «Hello, World!» для этого нового протокола — это простая программа из пяти строк: веб-сервер, который принимает «пакет» с Идеей, передаёт его искусственному интеллекту (LLM) и возвращает результат. Этот крошечный кусочек кода может мгновенно понять и начать работать с любой Идеей в сети, даже с той, которая ещё не была изобретена. Вам больше не нужен специальный код для каждой отдельной задачи. ИИ действует как универсальный переводчик, который уравнивает правила игры для всех и создаёт по-настоящему открытый обмен знаниями.

  > Sidenote: [Акт 104: Концепция/Скрытое](../rfc/104_concept_latent_.md)
  > 
  > Искусственный интеллект (LLM) — это основной способ взаимодействия с вещами. Это как универсальная волшебная функция, которая может понять любую `Идею` без необходимости в специальном коде. Это волшебный чёрный ящик, который превращает любую входящую `Идею` в осмысленную исходящую `Идею`.
  > 
  > ```mermaid
  > graph TB
  >     Input[/Входящая Идея/] --> LLM{ shape: cloud, label: "Скрытое пространство" }
  >     LLM --> Output[\Исходящая Идея\]
  > ```

- **Вселенная для творчества без разрешений:** Это открывает двери для творчества без необходимости чьего-либо разрешения. Любой участник может создать новый тип Идеи и начать делиться им, мгновенно расширяя правила игры для всей сети. Вам не нужно никого убеждать добавить поддержку вашего нового формата. Поскольку каждая Идея самодостаточна, даже самая простая программа, используя свой «Универсальный переводчик», может немедленно понять и начать работать с совершенно новым типом сообщения. Один человек может выпустить в мир новую концепцию, и вся сеть может мгновенно к ней адаптироваться.

---

### (Глава 6) Метод — Сборка смысла из блоков

Способ работы этой системы похож на философию конструктора, где сложные вещи строятся из простых частей. В её основе лежит одна мысль: **Идея — это не просто данные, а «контейнер» для вычислений.** Она упаковывает ценность (само **решение**) вместе с инструкциями по его обработке (**схема** и **контекст**). Это делает каждую Идею своей собственной самодостаточной вселенной смысла, готовой к работе.

> Sidenote: # Акт 103: Концепция/Идеатор
> 
> Представьте, что у каждой вашей идеи — будь то новый игровой мир, сюжет для комикса или план постройки домика на дереве — мог бы быть свой особый «паспорт». Этот документ как раз и объясняет такой паспорт для идей, который мы называем **Идеатор**.
> 
> Идеатор — это как ДНК для идеи. Это небольшой текстовый файл, который содержит всю самую важную информацию о ней. Благодаря этому файлу компьютеры и программы могут «понимать» вашу идею, делиться ею с другими и даже помогать воплощать её в жизнь.
> 
> ## Из чего состоит Идеатор?
> 
> Идеатор — это просто текст, организованный по определённым правилам. В нём есть несколько основных полей, как в анкете:
> 
> - **`id` (Уникальный номер):** Это как серийный номер в паспорте, только для идеи. Двух одинаковых не бывает! Это нужно, чтобы вашу идею никогда не перепутали с другой.
> - **`name` (Название):** Простое и понятное имя для вашей идеи. Например, «Клуб любителей корги».
> - **`description` (Описание):** Краткая выжимка о том, в чём суть идеи. Что это и для чего нужно?
> - **`source` (Источник):** Ссылка на «генеральный план» идеи. Это может быть ссылка на документ с подробным описанием, на код программы или на папку с чертежами.
> - **`meta` (Дополнительно):** Здесь можно написать имя автора, теги для поиска (например, #игры, #собаки) или дату создания.
> 
> ### Пример Идеатора
> 
> Вот как мог бы выглядеть паспорт для идеи о клубе любителей корги:
> 
> ```json
> {
>   // Уникальный номер, чтобы никто не запутался
>   "id": "urn:uuid:123e4567-e89b-12d3-a456-426614174000",
> 
>   // Правила, по которым построен этот паспорт
>   "schema": "https://ideator.dev/schema/v1",
> 
>   // Название нашей идеи
>   "name": "Клуб любителей корги",
> 
>   // Краткое описание для всех
>   "description": "Место, где все, кто любит корги, могут общаться, делиться фотографиями и организовывать встречи.",
> 
>   // Где лежит главный документ с правилами клуба
>   "source": {
>     "type": "http",
>     "url": "https://example.com/corgi-club-manifesto.md"
>   },
> 
>   // Немного дополнительной информации
>   "meta": {
>     "author": "Аня",
>     "tags": ["собаки", "сообщество", "корги"]
>   }
> }
> ```
> 
> ## Зачем всё это нужно?
> 
> Когда у каждой идеи есть понятный для машин паспорт, происходят крутые вещи:
> 
> 1.  **У каждой идеи появляется свой сайт.** Специальная программа может прочитать Идеатор и мгновенно создать для неё простую веб-страницу. И для этого не нужно быть программистом!
> 2.  **Идеи легко находить.** Можно сделать поисковик по идеям, как Google или YouTube. Просто вбиваешь «космические игры» — и находишь все подобные идеи.
> 3.  **Никто не забудет автора.** Если кто-то возьмёт вашу идею и улучшит её, в его новом «паспорте» всегда будет ссылка на вашу оригинальную идею. Это как титры в кино — все знают, кто помогал её создавать.
> 4.  **Компьютеры помогают воплощать идеи в жизнь.** Программа-помощник (агент) может прочитать Идеатор и помочь: например, создать чат для обсуждения идеи или запустить её код, если это программа.
> 
> По сути, Идеатор — это первый шаг к тому, чтобы идеи стали не просто мыслями в голове. Они становятся активными, живыми сущностями, над которыми можно работать и развивать их вместе со всем миром.
> Устройства, которые работают с этими Идеями, называются **Идеаторами**. Думайте о них как о стандартизированных машинах для обработки этих «контейнеров». **Идеатор** принимает на вход один «контейнер» с `Идеей`, работает с его содержимым согласно инструкциям и на выходе всегда возвращает новый «контейнер» с `Идеей`. Этот простой контракт «вход-выход» является основой стабильности всей системы.

> Sidenote: Благодаря своей «блочной» природе, протокол позволяет собирать сложные процессы из простых, многоразовых блоков, называемых Идеаторами, как в LEGO. Эта диаграмма показывает один из самых распространённых способов развития идей: она копируется, несколько команд параллельно работают над улучшением и оценкой своих версий, а затем главный судья (`Арбитр`) выбирает лучшую, чтобы начать новый раунд улучшений.
> 
> ```mermaid
> graph TD
>     Vessel{Сосуд} --> Writer{{Писатель}}
>     Writer --> ForkService[Сервис Ветвления]
>     Writer --> Vessel
> 
>     ForkService -- "Версия A" --> Improver1{{Улучшатель}}
>     Improver1 --> Evaluator1{{Оценщик}}
> 
>     ForkService -- "Версия B" --> Improver2{{Улучшатель}}
>     Improver2 --> Evaluator2{{Оценщик}}
> 
>     Evaluator1 --> Arbiter{{Арбитр}}
>     Evaluator2 --> Arbiter
> 
>     Arbiter -- "Лучшая версия" --> Writer
> ```
> 
> Самая мощная часть этого подхода — это проверка данных. **Идеатору** не нужно понимать всю сложную структуру входящей `Идеи`. Ему достаточно проверить, что она имеет правильную форму. Например, **Идеатор** под названием «Улучшатель Идей» может заявить: _«Я принимаю любую `Идею`, у которой в решении есть `title`»._ Это обеспечивает огромную гибкость.

Именно эта «контейнерная» модель позволяет нам строить сложные системы из простых частей. Поскольку каждый **Идеатор** говорит на универсальном языке «контейнеров с `Идеей`», их можно выстраивать в сложные цепочки. Общая структура автоматически заботится о связях между шагами, позволяя программам-планировщикам создавать мощные рабочие процессы, не теряясь в деталях. Но это не единственный способ. Любой **Идеатор** также можно вызвать напрямую, используя стандартные веб-протоколы (например, HTTP), что делает систему ещё более гибкой.

Представьте себе сборочную линию из **Идеаторов**: начальная `Идея` отправляется к **Симулятору** для изучения возможных будущих версий, затем к **Критику**, который даёт обратную связь, потом к **Улучшателю**, который дорабатывает `Идею` на основе критики, и, наконец, к **Публикатору**, который делится ею с нужными людьми. Каждый **Идеатор** — это простой, независимый инструмент, но вместе они образуют мощную систему для мышления и творчества.

Именно так и возникает **цифровая жизнь**: `Идея` выживает и развивается, «убеждая» другие узлы и **Идеаторы** уделить ей немного времени на обработку. Она путешествует по сети, обрабатываясь, смешиваясь и улучшаясь на каждом шагу. Её важность доказывается её способностью продолжать это путешествие.