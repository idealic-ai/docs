# 008: Агент/Импорты

> **Импорт:** Представьте, что вы занимаетесь рукоделием, и у вас есть огромная коробка со всеми вашими материалами. «Импорт» — это как список покупок, который точно говорит, какие предметы нужно взять из коробки для текущего шага. Это помогает компьютерной программе (ИИ) сосредоточиться только на той информации, которая ей нужна для конкретной задачи.

[Документ о Вызовах](./004_agent_call.md) объяснил, что ИИ можно попросить выполнить работу двумя основными способами: где он её выполняет (**Область**: прямо здесь или в отдельной комнате) и как он её выполняет (**Метод**: используя простой инструмент или обдумывая всё самостоятельно). Этот документ объясняет, как мы используем «Импорты» для управления информацией в каждой из этих ситуаций.

## Совмещение места и способа работы ИИ

Давайте представим, что ИИ — это шеф-повар на большой кухне.

1.  **Работать здесь, используя инструмент (`_activity`)**: Это как если бы шеф-повар использовал блендер на своей основной рабочей станции. ИИ получает ингредиенты (`params`), и машина (`_activity`) немедленно выполняет работу. Обычно здесь не нужен список «Импорта», потому что инструмент просто выполняет свою единственную задачу.

2.  **Работать здесь, обдумывая самостоятельно (без `_activity`)**: Шеф-повар находится на своей основной станции. Вы просите фруктовый смузи (`_output`) и также даёте ему список (`_imports`) одобренных фруктов. Этот список помогает шефу сосредоточиться только на фруктах, чтобы он не отвлекался на овощи или специи на кухне. Он сам придумывает рецепт (`params`) и готовит смузи (`_output`) за один раз.

3.  **Работать в отдельной комнате, используя инструмент (`_module` + `_activity`)**: Вы говорите шеф-повару пойти в специальную пекарню (`_module`) и использовать духовку (`_activity`). Список «Импорта» (`_imports`) точно указывает шефу, какие ингредиенты (например, муку и сахар) ему разрешено взять с собой в эту комнату.

4.  **Работать в отдельной комнате, обдумывая самостоятельно (`_module`, без `_activity`)**: Вы говорите шеф-повару пойти в пекарню (`_module`). Список «Импорта» (`_imports`) предоставляет *единственные* ингредиенты, которые он может использовать. Оказавшись внутри, вы просто говорите ему «приготовь торт». Шеф должен сам придумать, как приготовить торт, используя только те ингредиенты, которые вы ему разрешили взять.

## Фокусировка на том, что видит ИИ

Свойство `_imports` похоже на шоры для лошади. Это основной способ контролировать, какую информацию ИИ может видеть во время работы.

-   **При работе «здесь» (встроенно)**: шоры (`_imports`) помогают ИИ сосредоточиться на текущей задаче и не отвлекаться.
-   **При работе в «отдельной комнате» (модуле)**: шоры (`_imports`) определяют *всё*, что может видеть ИИ. Если чего-то нет в списке, этого не существует в той комнате.

## Предоставление и запрос информации

Как мы решаем, что будет в списке импорта? Есть два способа, которые настраиваются при первоначальном создании инструмента для ИИ.

-   **Статические импорты (предоставление информации)**: Это когда создатель инструмента заранее решает, какую именно информацию инструменту разрешено видеть. Этот список не подлежит обсуждению. Например, инструмент-калькулятор может быть навсегда настроен на импорт только чисел.

> Sidenote:
> 
> Эта схема показывает, что из всей доступной информации (например, `input` и `state`), список импорта (`_imports: ['input']`) позволяет пройти только `input`. Иногда может потребоваться предварительное одобрение человеком. Информация `state` игнорируется.
> 
> ```mermaid
graph TD
    subgraph Родительский контекст
        direction LR
        input("input")
        state("state")
    end

    subgraph Вызов инструмента
        direction LR
        filter{{"_imports: ['input']"}}
    end

    input --> filter
    state -.-> filter

    subgraph Предоставленный контекст
        direction LR
        input_prov("input")
    end

    filter --> HITL{{Одобрение человеком}}
    HITL --> input_prov
    input_prov --> Execute(Выполнить инструмент)

    classDef unused stroke-dasharray: 5, 5, stroke:#aaa, color:#aaa
    class state unused
    classDef optional stroke-dasharray: 5, 5
    class HITL optional
```

-   **Динамические импорты (запрос информации)**: Это когда ИИ может *запросить* нужную ему информацию из заранее утверждённого списка. Например, ИИ может быть разрешено запрашивать `time` или `weather`, и он сам решает, что ему нужно для текущей задачи.

Этот метод «запроса» очень полезен, потому что можно настроить так, чтобы человек одобрял запрос ИИ, прежде чем тот получит информацию. Это добавляет отличный уровень безопасности и контроля.

## Почему ограничение информации — это суперсила

-   **Повышение безопасности и концентрации**: Надевая на ИИ шоры, мы предотвращаем случайный просмотр им частной информации. Это также помогает ИИ сосредоточиться, что означает, что он делает меньше ошибок, выполняет работу быстрее и его использование обходится дешевле.
-   **Делает компоненты многоразовыми (как LEGO)**: Импорты позволяют нам создавать небольшие, специализированные инструменты ИИ, которые можно использовать снова и снова в разных проектах. Поскольку они получают только ту конкретную информацию, которая им нужна, вы можете подключать их где угодно, не беспокоясь, что они что-то сломают.