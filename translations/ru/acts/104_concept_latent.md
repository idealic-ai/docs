# 104: Концепция / Скрытое

> Sidenote:
> - Требует:
>   - [101: Концепция/Идея](./101_concept_idea.md)
> - Открывает возможности для:
>   - [001: Агент/Запрос](./001_agent_request.md)

> [!DEFINITION] [:term[Скрытое]{canonical="Latent"}](./000_glossary.md)
> Использование внутренних знаний и способности к рассуждению большой языковой модели (LLM) (её «скрытого пространства») для генерации результатов без явного, детерминированного кода.

:term[Скрытое]{canonical="Latent"} — это фундаментальное понятие в архитектуре системы, охватывающее как процесс (:term[Скрытое Исполнение]{canonical="Latent Execution"}), так и источник знаний (:term[Скрытое Пространство]{canonical="Latent Space"}). Это вычислительный метод системы по умолчанию, основанный на использовании большой языковой модели (LLM) в качестве универсального интерпретатора. Такой подход позволяет системе преодолеть разрыв между входом :term[Идеи]{canonical="Idea"} (`context`) и её выходом (`solution`) путем навигации и организации обширных внутренних знаний LLM.

Этот подход является основой гибкости системы, позволяя составлять и выполнять рабочие процессы даже тогда, когда для составляющих задач не был написан явный, детерминированный код.

## Скрытое Пространство: Океан Знаний

:term[Скрытое Пространство]{canonical="Latent Space"} — это обширное, многомерное представление знаний, закономерностей и взаимосвязей, которое LLM усваивает во время своего обучения. Это не база данных фактов, а сложная карта понятий, где близость и ориентация определяют семантические отношения. Большие языковые модели сильны именно благодаря богатству этого пространства, но их знания полезны только в том случае, если к ним можно эффективно получить доступ и направить их.

Основная проблема заключается не в существовании этих знаний, а в способности ориентироваться в них. Система разработана для решения этой проблемы, предоставляя правильные вопросы и, что особенно важно, правильный контекст, чтобы направить LLM к соответствующим областям её скрытого пространства.

## Скрытое Исполнение: Активация Скрытого Пространства

:term[Скрытое Исполнение]{canonical="Latent Execution"} — это процесс активации скрытого пространства для выполнения задачи. Это происходит, когда система по умолчанию использует LLM, потому что для обработки :term[Вызова]{canonical="Call"} не зарегистрировано явного, детерминированного кода (:term[Действия]{canonical="Activity"}).

Процесс выглядит следующим образом:

1.  Производится :term[Вызов]{canonical="Call"} к :term[Инструменту]{canonical="Tool"} или :term[Идее]{canonical="Idea"}.
2.  Система определяет, что для :term[Вызова]{canonical="Call"} не зарегистрировано :term[Действие]{canonical="Activity"}.
3.  Система предоставляет LLM полный `context` и `schema` для желаемого `_output`.
4.  Задача LLM — навигировать по своему скрытому пространству, используя предоставленный контекст в качестве ориентира, и сгенерировать `solution`, соответствующее выходной `schema`.

Это превращает LLM из простого генератора текста в динамический движок выполнения, который может на лету реализовывать новые интерфейсы.

## Управление Контекстом: Организация Скрытого Пространства

Важнейшая функция системы — **оптимизировать организацию скрытого пространства** в рамках одного запроса. Она делает это с помощью продвинутого управления контекстом, используя различные «приёмы, подобные инструментам», чтобы сфокусировать внимание LLM и направить её рассуждения.

- **Богатый Контекст**: Предоставляя структурированную историю сообщений, объектов состояния и запросов пользователя, система подготавливает LLM, давая ей необходимую основу для понимания задачи.
- **Рассуждение на основе Схем**: JSON Schema используется не только для проверки конечного результата, но и для направления самого процесса генерации. Она предоставляет черновик для желаемого `solution`, заставляя LLM структурировать свои рассуждения и ограничивать свой путь в скрытом пространстве.
- **Инструкции и Инструменты**: :term[Инструкции]{canonical="Instructions"} и :term[Инструменты]{canonical="Tools"} действуют как мощные линзы, фокусируя LLM на конкретной возможности или структуре рассуждений. Это «приёмы», которые помогают выбрать наиболее релевантную часть скрытого пространства для данной задачи.

Эффективное управление контекстом — это то, что делает скрытое исполнение надёжным. Именно так система превращает огромный, недифференцированный океан знаний LLM в точный и полезный инструмент.

## Поведение по Умолчанию для Оптимистической Композиции

:term[Скрытое Исполнение]{canonical="Latent Execution"} — это не исключение, а поведение по умолчанию. Система работает по «оптимистичному» принципу: она предполагает, что любой определённый интерфейс может быть реализован путём правильной организации скрытого пространства. :term[Действие]{canonical="Activity"} с детерминированным кодом рассматривается как прогрессивное улучшение — оптимизация для задач, требующих скорости, надёжности или доступа к внешним API.

Такое поведение по умолчанию оказывает глубокое влияние на разработку:

- **Быстрое прототипирование**: Разработчики могут определять и связывать в цепочку несколько :term[Инструментов]{canonical="Tool"} и :term[Идей]{canonical="Idea"} в сложный :term[План]{canonical="Plan"}, не написав ни единой строчки кода реализации. LLM выполняет весь рабочий процесс в скрытом режиме.
- **Бесшовная Композиция**: Это позволяет комбинировать :term[Идеи]{canonical="Idea"} и :term[Инструменты]{canonical="Tool"} от разных авторов и из разных источников, даже если их базовые реализации недоступны.
- > Sidenote: Эта концепция более подробно рассматривается в [Акт 303: Идеатор/Реактор](../acts/303_ideator_reactor.md).

  **Прогрессивная Кристаллизация**: Рабочий процесс может начать своё существование полностью в скрытом пространстве. По мере развития системы, узкие места в производительности или критические процессы могут быть выборочно «кристаллизованы» в :term[Действия]{canonical="Activity"} с явным кодом, не изменяя общей структуры рабочего процесса.

Делая скрытое исполнение поведением по умолчанию, система ставит в приоритет гибкость и скорость итераций, что позволяет создавать сложные агентные поведения с первого дня.

## Двигатель ИИ-центричной Архитектуры

Принцип скрытого исполнения — это не просто функция; это двигатель, который приводит в движение всю :term[ИИ-центричную]{canonical="AI-Native"} парадигму. Способность прототипировать, составлять и выполнять сложные рабочие процессы, не написав предварительно детерминированный код, является фундаментальным фактором, обеспечивающим гибкость и устойчивость, которые требуются :term[ИИ-центричной]{canonical="AI-Native"} системе. Именно это позволяет ИИ выступать в роли архитектора, планировщика и исполнителя своих собственных процессов.

Эта концепция является ключом к переходу от систем, которые просто _используют_ ИИ как инструмент, к системам, которые фундаментально построены _в среде_ ИИ.

> Sidenote:
> - [105: Концепция/ИИ-центричность](./105_concept_ai_native.md)

Следующий документ, [105: Концепция/ИИ-центричность](./105_concept_ai_native.md), подробно рассматривает этот архитектурный сдвиг.
