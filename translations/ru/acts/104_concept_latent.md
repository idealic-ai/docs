# 104: Концепция/Скрытое

> Sidenote:
>
> - Требуется:
>   - [101: Концепция/Идея](./101_concept_idea.md)
> - Позволяет
>   - [001: Агент/Запрос](./001_agent_request.md)

> **Скрытое (Latent):** Использование внутренних знаний и логических способностей большой языковой модели (LLM) (её «скрытого пространства») для создания результатов без явного, детерминированного кода. — [Глоссарий](./000_glossary.md)

## Введение

Концепция **Скрытого (Latent)** является фундаментальной для архитектуры системы, охватывая как процесс (**Скрытое Исполнение**), так и источник знаний (**Скрытое Пространство**). Это стандартный метод вычислений в системе, который полагается на большую языковую модель (LLM) как на универсальный интерпретатор. Такой подход позволяет системе преодолеть разрыв между входом `Идеи` (`context`) и её выходом (`solution`), ориентируясь в обширных внутренних знаниях LLM и упорядочивая их.

Этот подход является ключевым для гибкости системы, позволяя создавать и выполнять рабочие процессы, даже когда для составляющих задач не было написано явного, детерминированного кода.

## Скрытое Пространство: Океан Знаний

**Скрытое Пространство** — это обширное многомерное представление знаний, закономерностей и взаимосвязей, которое LLM усваивает во время своего обучения. Это не база данных фактов, а сложная карта концепций, где близость и ориентация определяют семантические отношения. Большие языковые модели мощны именно благодаря богатству этого пространства, но их знания полезны только в том случае, если к ним можно получить доступ и эффективно их направить.

Основная сложность заключается не в существовании этих знаний, а в способности ориентироваться в них. Система разработана для решения этой проблемы путём предоставления правильных вопросов и, что особенно важно, правильного контекста, чтобы направить LLM к нужным областям её скрытого пространства.

## Скрытое Исполнение: Активация Скрытого Пространства

**Скрытое Исполнение** — это процесс активации скрытого пространства для выполнения задачи. Оно происходит, когда система по умолчанию использует LLM, потому что для обработки `Вызова` не зарегистрировано явного, детерминированного кода (`Действия`).

Процесс выглядит следующим образом:

1.  Производится `Вызов` к `Инструменту` или `Идее`.
2.  Система определяет, что для `Вызова` не зарегистрировано ни одного `Действия`.
3.  Система предоставляет LLM полный `контекст` и `схему` для желаемого `_output`.
4.  Задача LLM — сориентироваться в своём скрытом пространстве, используя предоставленный контекст в качестве руководства, и сгенерировать `решение`, соответствующее выходной `схеме`.

Это превращает LLM из простого генератора текста в динамический исполнительный механизм, который может реализовывать новые интерфейсы на лету.

## Управление Контекстом: Упорядочивание Скрытого Пространства

Важнейшая функция системы — **оптимизировать организацию скрытого пространства** в рамках одного запроса. Она делает это с помощью продвинутого управления контекстом, используя разнообразные «инструментальные хитрости» для фокусировки внимания LLM и направления её логических рассуждений.

- **Богатый Контекст**: Предоставляя структурированную историю сообщений, объектов состояния и запросов пользователя, система подготавливает LLM, снабжая её необходимой информацией для понимания задачи.
- **Логика на основе схем**: JSON Schema используется не только для проверки конечного результата, но и для направления самого процесса генерации. Она предоставляет черновик для желаемого `решения`, заставляя LLM структурировать свои рассуждения и ограничивать свой путь в скрытом пространстве.
- **Инструкции и Инструменты**: `Инструкции` и `Инструменты` действуют как мощные линзы, фокусируя LLM на конкретной возможности или логической структуре. Это «хитрости», которые помогают выбрать наиболее релевантный подраздел скрытого пространства для данной задачи.

Эффективное управление контекстом — это то, что делает скрытое исполнение надёжным. Именно так система превращает огромный, недифференцированный океан знаний LLM в точный и полезный инструмент.

## Стандарт для Оптимистичной Композиции

Скрытое Исполнение — это не исключение, а стандартное поведение. Система работает по «оптимистичному» принципу: она предполагает, что любой определённый интерфейс может быть реализован путём правильной организации скрытого пространства. `Действие` с детерминированным кодом рассматривается как постепенное улучшение — оптимизация для задач, требующих скорости, надёжности или доступа к внешним API.

Такой подход по умолчанию оказывает огромное влияние на разработку:

- **Быстрое Прототипирование**: Разработчики могут определять и связывать воедино множество `Инструментов` и `Идей` в сложный `План`, не написав ни единой строчки кода реализации. LLM выполняет весь рабочий процесс в скрытом режиме.
- **Бесшовная Композиция**: Она позволяет комбинировать `Идеи` и `Инструменты` от разных авторов и из разных источников, даже если их базовые реализации недоступны.
- > Sidenote: Эта концепция более подробно рассматривается в [Акте 303: Идеатор/Реактор](../acts/303_ideator_reactor.md).

  **Прогрессивная Кристаллизация**: Рабочий процесс может начать своё существование полностью в скрытом пространстве. По мере развития системы узкие места в производительности или критически важные процессы могут быть выборочно «кристаллизованы» в `Действия` с явным кодом, не изменяя общей структуры рабочего процесса.

Делая скрытое исполнение стандартом, система отдаёт приоритет гибкости и скорости итераций, позволяя создавать сложные агентные поведения с первого дня.

## Двигатель ИИ-центричной Архитектуры

Принцип скрытого исполнения — это не просто особенность; это двигатель, который приводит в действие всю ИИ-центричную парадигму. Возможность прототипировать, компоновать и выполнять сложные рабочие процессы без предварительного написания детерминированного кода — это фундаментальный фактор, обеспечивающий гибкость и устойчивость, которые требуются ИИ-центричной системе. Именно это позволяет ИИ действовать как архитектор, планировщик и исполнитель своих собственных процессов.

Эта концепция является ключом к переходу от систем, которые просто _используют_ ИИ как инструмент, к системам, фундаментально построенным _в самой среде_ ИИ.

> Sidenote:
>
> - [105: Концепция/ИИ-центричность](./105_concept_ai_native.md)

Следующий документ, [105: Концепция/ИИ-центричность](./105_concept_ai_native.md), подробно рассматривает этот архитектурный сдвиг.
