# 104: Концепция / Скрытое

> Sidenote:
> - Требует:
>   - [101: Концепция/Идея](./101_concept_idea.md)
> - Позволяет
>   - [001: Агент/Запрос](./001_agent_request.md)

> [!DEFINITION] [Скрытое](./000_glossary.md)
> Использование внутренних знаний и логических возможностей большой языковой модели (LLM) (её «скрытого пространства») для создания результатов без прямого, заранее определённого кода.

## Введение

Концепция **Скрытого** является фундаментальной для архитектуры системы, охватывая как процесс (**Скрытое Исполнение**), так и источник знаний (**Скрытое Пространство**). Это основной метод вычислений в системе, который использует большую языковую модель (LLM) в качестве универсального интерпретатора. Этот подход позволяет системе преодолеть разрыв между входными данными `Идеи` (`context`) и её выходными данными (`solution`), ориентируясь в огромном объёме внутренних знаний LLM и организуя их.

Этот подход является основой гибкости системы, позволяя создавать и выполнять рабочие процессы, даже если для составляющих их задач не написан явный, детерминированный код.

## Скрытое Пространство: Океан Знаний

**Скрытое Пространство** — это обширное, многомерное представление знаний, закономерностей и взаимосвязей, которое LLM усваивает во время своего обучения. Это не база данных фактов, а сложная карта концепций, где близость и направление определяют смысловые отношения. Большие языковые модели сильны именно благодаря богатству этого пространства, но их знания полезны только в том случае, если к ним можно получить доступ и эффективно их направить.

Основная проблема заключается не в наличии этих знаний, а в способности ориентироваться в них. Система решает эту задачу, предоставляя правильные вопросы и, что особенно важно, правильный контекст, чтобы направить LLM к нужным областям её скрытого пространства.

## Скрытое Исполнение: Активация Скрытого Пространства

**Скрытое Исполнение** — это процесс активации скрытого пространства для выполнения задачи. Оно происходит, когда система по умолчанию использует LLM, потому что для обработки `Вызова` не зарегистрировано явного, детерминированного кода (`Действия`).

Процесс выглядит следующим образом:

1.  Происходит `Вызов` к `Инструменту` или `Идее`.
2.  Система определяет, что для этого `Вызова` не зарегистрировано ни одного `Действия`.
3.  Система предоставляет LLM полный `контекст` и `схему` для желаемого `_output`.
4.  Задача LLM — сориентироваться в своём скрытом пространстве, используя предоставленный контекст как ориентир, и сгенерировать `решение`, соответствующее `схеме` вывода.

Это превращает LLM из простого генератора текста в динамический движок исполнения, способный на лету реализовывать новые интерфейсы.

## Управление Контекстом: Организация Скрытого Пространства

Важнейшая функция системы — **оптимизировать организацию скрытого пространства** в рамках одного запроса. Она делает это с помощью продвинутого управления контекстом, используя различные «инструментальные хитрости» для фокусировки внимания LLM и направления её рассуждений.

- **Насыщенный Контекст**: Предоставляя структурированную историю сообщений, объектов состояния и запросов пользователя, система подготавливает LLM, давая ей необходимую фоновую информацию для понимания задачи.
- **Рассуждение на основе Схемы**: JSON Schema используется не только для проверки конечного результата, но и для направления самого процесса генерации. Она предоставляет чертёж для желаемого `решения`, заставляя LLM структурировать свои рассуждения и ограничивать свой путь в скрытом пространстве.
- **Инструкции и Инструменты**: `Инструкции` и `Инструменты` действуют как мощные линзы, фокусируя LLM на определённой возможности или схеме рассуждений. Это «хитрости», которые помогают выбрать наиболее подходящий подраздел скрытого пространства для данной задачи.

Эффективное управление контекстом — это то, что делает скрытое исполнение надёжным. Именно так система превращает огромный, недифференцированный океан знаний LLM в точный и полезный инструмент.

## Стандарт для Оптимистичной Композиции

Скрытое Исполнение — это не исключение, а поведение по умолчанию. Система работает по «оптимистичному» принципу: она предполагает, что любой определённый интерфейс может быть реализован путём правильной организации скрытого пространства. `Действие` с детерминированным кодом рассматривается как постепенное улучшение — оптимизация для задач, требующих скорости, надёжности или доступа к внешним API.

Такой подход по умолчанию оказывает огромное влияние на разработку:

- **Быстрое Прототипирование**: Разработчики могут определять и связывать в цепочку несколько `Инструментов` и `Идей` в сложный `План`, не написав ни единой строчки кода для их реализации. LLM выполняет весь рабочий процесс в скрытом режиме.
- **Бесшовная Композиция**: Это позволяет комбинировать `Идеи` и `Инструменты` от разных авторов и из разных источников, даже если их внутренние реализации недоступны.
- > Sidenote: Эта концепция подробнее рассматривается в [Акте 303: Идеатор/Реактор](../acts/303_ideator_reactor.md).

  **Постепенная Кристаллизация**: Рабочий процесс может начать свою жизнь полностью в скрытом пространстве. По мере развития системы узкие места в производительности или критически важные процессы могут быть выборочно «кристаллизованы» в `Действия` с явным кодом, не изменяя общей структуры рабочего процесса.

Делая скрытое исполнение поведением по умолчанию, система ставит в приоритет гибкость и скорость итераций, позволяя создавать сложное агентское поведение с первого дня.

## Двигатель ИИ-центричной Архитектуры

Принцип скрытого исполнения — это не просто особенность, это двигатель, который приводит в движение всю парадигму ИИ-центричности. Способность прототипировать, компоновать и выполнять сложные рабочие процессы без предварительного написания детерминированного кода является ключевым фактором, обеспечивающим гибкость и устойчивость, необходимые ИИ-центричной системе. Именно это позволяет ИИ действовать как архитектор, планировщик и исполнитель своих собственных процессов.

Эта концепция — ключ к переходу от систем, которые просто _используют_ ИИ как инструмент, к системам, которые фундаментально построены _в среде_ ИИ.

> Sidenote:
> - [105: Концепция/ИИ-центричность](./105_concept_ai_native.md)

Следующий документ, [105: Концепция/ИИ-центричность](./105_concept_ai_native.md), подробно рассматривает этот архитектурный сдвиг.
