# 007: Агент/Ввод

> [!DEFINITION] [Входное Сообщение](./000_glossary.md)
> Контекстное сообщение, содержащее `schema` и данные `input`. Оно определяет ожидаемые входные данные для `Запроса` (`Request`), что делает его многоразовым компонентом, подобным функции.

> Sidenote: Требует: [001: Агент/Запрос](./001_agent_request.md) - Позволяет: [002: Агент/Инструмент](./002_agent_tool.md)

Этот документ описывает **Входное Сообщение** — особый тип контекстного сообщения, которое предоставляет структурированные входные данные для [001: Агент/Запрос](./001_agent_request.md). Формально определяя данные, которые `Request` использует для формирования своего `solution` (решения), сообщение `Input` превращает разовый вызов в многоразовый компонент, подобный функции. Этот паттерн — ключ к превращению простого `Запроса` (`Request`) в исполняемый `Инструмент` (`Tool`), который могут использовать агенты.

> [!HEADSUP] Внимание
> Сохранённый, воспроизводимый **Запрос** (`Request`) — это то, что система называет **[101: Концепция/Идея](./101_concept_idea.md)**. Когда в его контекст добавляется сообщение `Input`, он становится исполняемым **[103: Концепция/Идеатор](./103_concept_ideator.md)**.

## Тип сообщения Input

Сообщение `Input` — это особый тип контекстного сообщения, предназначенный для формального объявления данных, которые принимает `Request`. Это механизм, который фиксирует структурированные входные данные, используемые для получения определённого `solution` (решения), обеспечивая полную, воспроизводимую запись вычислительного процесса.

Сообщение `Input` содержит два ключевых свойства:

1.  **`schema`**: Объект JSON Schema, который определяет структуру, типы и ограничения данных, ожидаемых `Запросом` (`Request`).
2.  **`input`**: Конкретный объект данных, который соответствует `schema` и представляет фактические значения, использованные для конкретного выполнения.

Определяя свои входные данные таким структурированным образом, любой `Request` может стать самоописываемым не только в части своего вывода (`solution` и `schema`), но и в том, что ему требуется для генерации. Это основной механизм для создания воспроизводимого запроса.

## Путь к удобству: Интерфейс по умолчанию

Сообщение `Input` — это больше, чем просто техническая деталь; это ключ, который открывает полноценный интерактивный опыт для любого `Запроса` (`Request`). Поскольку `Request` определяется структурированными схемами как для ввода, так и для вывода, для него можно автоматически сгенерировать пользовательский интерфейс.

> Sidenote: [103: Концепция/Идеатор](./103_concept_ideator.md).

Этот интерфейс состоит из двух частей:

1.  **Форма**: `schema` внутри сообщения `Input` предоставляет чертёж для формы ввода. Система может прочитать его, чтобы мгновенно отобразить интерактивные элементы управления с подписями и проверкой данных.
2.  **Результат**: Основная `schema` `Запроса` (`Request`) предоставляет чертёж для вывода. После завершения `Запроса` его `solution` (решение) может быть представлено в наглядном, структурированном виде, а не просто как необработанные данные.

Это превращает любой `Request` в интерактивную песочницу. Пользователь может экспериментировать с различными входными данными в форме и сразу видеть, как они влияют на структурированный результат. Это демократизирует создание и использование мощных инструментов, превращая абстрактные вычислительные процессы в осязаемые, интерактивные приложения, которые может исследовать каждый.

> Sidenote: [102: Концепция/Суверенитет](./102_concept_sovereignty.md).

## Композиция с другими протоколами

Сообщение `Input` — это простой паттерн, но его сила заключается в композиции с другими протоколами. Оно служит мостом между необработанными данными, многоразовыми инструментами и многоэтапными рабочими процессами.

- **Структурированные данные**: Сообщение `Input` является конкретным применением принципов, изложенных в документе [006: Агент/Данные](./006_agent_data.md). Оно предоставляет конкретный паттерн для подачи структурированных данных в `Request`, обеспечивая их чёткое определение и проверку.

  > Sidenote: [006: Агент/Данные](./006_agent_data.md).

- **От Запроса к многоразовому Инструменту**: Сообщение `Input` — это ключ к превращению `Запроса` (`Request`) в многоразовый [002: Агент/Инструмент](./002_agent_tool.md). Этот процесс сопоставляет компоненты `Запроса` с интерфейсом `Инструмента`:

  > Sidenote: [002: Агент/Инструмент](./002_agent_tool.md).
  1. `schema` из **сообщения `Input`** определяет **параметры** `Инструмента`. Она описывает, что нужно `Инструменту` для запуска.
  2. Основная `schema` **`Запроса`** определяет **`_output`** (вывод) `Инструмента`. Она описывает, что `Инструмент` должен произвести.

  Это позволяет создавать новые `Инструменты` на лету. Добавляя структурированный `Input` к существующему `Запросу`, вы определяете для него вызываемый интерфейс, делая его исполняемым компонентом для других агентов.

- **Инстансинг**: При использовании с протоколом [011: Агент/Инстансинг](./011_agent_instancing.md) сообщения `Input` могут предоставлять данные для запросов с множеством экземпляров, либо как глобальную конфигурацию для всех экземпляров, либо как целевой ввод для конкретного экземпляра.
  > Sidenote: [011: Агент/Инстансинг](./011_agent_instancing.md).

## От статических входных данных к динамическим рабочим процессам

Сообщение `Input` предоставляет начальные, статические данные, которые запускают процесс. Однако для создания сложных агентов нам нужен способ создания динамических потоков данных. Следующие главы строятся на этой основе для создания сложных, многоэтапных рабочих процессов:

1.  **[008: Агент/Переменные](./008_agent_variables.md):** Система `Variables` (Переменных) предоставляет «провода», которые позволяют `Инструментам` читать данные из `Input` и других сообщений контекста, а также соединять вывод одного `Инструмента` со входом другого.
2.  **[009: Агент/Состояние](./009_agent_state.md):** Объект `State` (Состояние) предоставляет постоянный «черновик» для рабочего процесса, позволяя сохранять данные между несколькими шагами и циклами выполнения.
3.  **[010: Агент/План](./010_agent_plan.md):** Имея `Переменные` для связи и `Состояние` для работы, `Вызовы Инструментов` (`Tool Calls`) можно организовать в `План` — полноценный, декларативный граф потока данных.
4.  **[011: Агент/Инстансинг](./011_agent_instancing.md):** Наконец, `Инстансинг` позволяет выполнять один и тот же `План` в больших масштабах параллельно для множества различных объектов `State`.