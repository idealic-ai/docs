# 007: Агент/Входные данные

> **Входное Сообщение:** Контекстное сообщение, содержащее `schema` и данные `input`. Оно определяет ожидаемые входные данные для `Request`, превращая его в многоразовый, подобный функции компонент. — [Глоссарий](./000_glossary.md)

> Sidenote: Основывается на: [001: Агент/Запрос](./001_agent_request.md). Необходимо для: [002: Агент/Инструмент](./002_agent_tool.md).

Этот документ описывает **Входное Сообщение** — особый тип контекстного сообщения, который предоставляет структурированный запрос для [001: Агент/Запрос](./001_agent_request.md). Формально определяя данные, которые `Request` использует для формирования своего `solution`, сообщение `Input` превращает разовый вызов в многоразовый, подобный функции компонент. Этот паттерн является ключом к превращению простого `Request` в исполняемый `Инструмент`, который могут использовать агенты.

> [!TIP]
> Сохранённый, воспроизводимый **Запрос (Request)** в системе называется **[101: Концепция/Идея](./101_concept_idea.md)**. Когда в его контекст добавляется сообщение `Input`, он становится исполняемым **[103: Концепция/Идеатор](./103_concept_ideator.md)**.

## Тип сообщения `Input`

Сообщение `Input` — это особый тип контекстного сообщения, предназначенный для формального объявления данных, которые принимает `Request`. Это механизм, который фиксирует структурированные входные данные, используемые для получения определённого `solution`, обеспечивая полную, воспроизводимую запись вычислительного процесса.

Сообщение `Input` содержит два ключевых свойства:

1.  **`schema`**: Объект JSON Schema, который определяет структуру, типы и ограничения данных, ожидаемых `Request`.
2.  **`input`**: Конкретный объект данных, который соответствует `schema` и представляет фактические значения, используемые для конкретного выполнения.

Определяя свои входные данные таким структурированным образом, любой `Request` может стать самоописываемым не только в части вывода (`solution` и `schema`), но и в части того, что ему требуется для генерации. Это основной механизм для создания воспроизводимого запроса.

## Путь к удобству: UI по умолчанию

Сообщение `Input` — это не просто техническая деталь, а ключ к созданию полноценного интерактивного интерфейса для любого `Запроса`. Так как `Запрос` определён структурированными схемами и для входных, и для выходных данных, для него можно автоматически сгенерировать пользовательский интерфейс.

> Sidenote: [103: Концепция/Идеатор](./103_concept_ideator.md).

Этот UI состоит из двух частей:

1.  **Форма**: `schema` внутри сообщения `Input` служит черновиком для формы ввода. Система может прочитать её, чтобы мгновенно отобразить интерактивные элементы управления, включая метки и проверку данных.
2.  **Результат**: Основная `schema` Запроса (`Request`) служит черновиком для вывода. После завершения `Request` его `solution` может быть представлено в виде насыщенного, структурированного отображения, а не просто сырых данных.

Это превращает любой `Request` в интерактивную «песочницу». Пользователь может экспериментировать с различными входными данными в форме и сразу же видеть, как они формируют структурированный результат. Это демократизирует создание и использование мощных инструментов, превращая абстрактные вычислительные процессы в осязаемые, интерактивные приложения, которые может исследовать каждый.

> Sidenote: [102: Концепция/Суверенитет](./102_concept_sovereignty.md).

## Композиция с другими протоколами

Сообщение `Input` — это простой паттерн, но его сила заключается в композиции с другими протоколами. Он действует как мост между сырыми данными, многоразовыми инструментами и многоэтапными рабочими процессами.

- **Структурированные данные**: Сообщение `Input` является конкретным применением принципов, изложенных в документе [006: Агент/Данные](./006_agent_data.md). Оно предоставляет конкретный паттерн для подачи структурированных данных в `Request`, гарантируя, что информация чётко определена и проверена.

  > Sidenote: [006: Агент/Данные](./006_agent_data.md).

- **От Запроса к многоразовому Инструменту**: Сообщение `Input` — это ключ к превращению `Request` в многоразовый [002: Агент/Инструмент](./002_agent_tool.md). Этот процесс сопоставляет компоненты `Request` с интерфейсом `Инструмента`:

  > Sidenote: [002: Агент/Инструмент](./002_agent_tool.md).
  1. `schema` из **сообщения `Input`** определяет **параметры** `Инструмента`. Она описывает, что необходимо `Инструменту` для запуска.
  2. Основная `schema` **`Запроса`** определяет **`_output`** `Инструмента`. Она описывает, что `Инструмент` должен произвести.

  Это позволяет создавать новые `Инструменты` «на лету». Добавляя структурированный `Input` к существующему `Request`, вы определяете для него вызываемый интерфейс, делая его исполняемым компонентом для других агентов.

- **Инстансинг**: При использовании с протоколом [011: Агент/Инстансинг](./011_agent_instancing.md) сообщения `Input` могут предоставлять данные для запросов с множественными инстансами, либо как глобальную конфигурацию для всех инстансов, либо как целевой ввод для конкретного инстанса.
  > Sidenote: [011: Агент/Инстансинг](./011_agent_instancing.md).

## Предоставление контекста для Инструментов

В то время как сообщение `Input` предоставляет прямые, структурированные данные для параметров `Инструмента`, `Инструменту` часто требуется доступ к более широкому контексту, в котором он выполняется, например, к текущему `State` или другим объектам данных. Протокол **Импортов (Imports)** — это механизм, который контролирует, что `Инструмент` может видеть и использовать из этого контекста. Он позволяет `Инструменту` получать целые объекты в качестве контекста, а не только отдельные параметры.

Следующий документ, [008: Агент/Импорты](./008_agent_imports.md), описывает, как `Инструмент` может объявлять и получать эту контекстную информацию.