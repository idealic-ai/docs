# 202: Идея/Носитель

> **Идея-Носитель:** Автономная `Идея`, которая одновременно является и определением реактивной способности, и записью выбранной реакции. Её `schema` определяет всю вселенную возможных `Инструментов`, а её `solution` фиксирует конкретные `Вызовы` (экземпляры этих `Инструментов`), которые были выбраны в ответ на стимул.
>
> — [Глоссарий](./000_glossary.md)

> Sidenote: Требуется:
> - [101: Концепция/Идея](./101_concept_idea.md)
> - [002: Агент/Инструмент](./002_agent_tool.md)
> - [004: Агент/Вызов](./004_agent_call.md)

**Идея-Носитель** — это полный, автономный снимок мгновенной реакции агента на стимул. Это больше, чем просто журнал произошедшего; это многогранный артефакт, содержащий полный контекст решения, что делает его проверяемым, адаптируемым и пригодным для повторного использования.

## 1. Анатомия реакции

`Идея-Носитель` использует основную триаду `Идеи`, чтобы зафиксировать как потенциальное, так и фактическое действие:

> Sidenote: [101: Концепция/Идея](./101_concept_idea.md)

- **`context` (Стимул):** Содержит входные данные, которые вызвали реакцию агента.
- **`schema` (Определение):** Определяет весь набор реактивных способностей агента в данный момент. Она описывает каждый `Tool`, который агент _мог бы_ использовать, обычно в виде схемы `oneOf`.
- **`solution` (Экземпляр):** Это запись того, что агент _фактически сделал_. Это массив, содержащий конкретные `Calls` — экземпляры `Tools`, взятых из `schema`, — которые были выбраны и выполнены.

Поскольку `Носитель` содержит как вселенную возможностей (`schema`), так и конкретный результат (`solution`), он предоставляет полную картину события принятия решения.

## 2. Сила автономных решений

Именно эта автономная структура обеспечивает расширенные возможности системы. Упаковывая определение вместе с экземпляром, `Идея-Носитель` по своей сути поддерживает:

- **Проверку и корректировку человеком:** Человек может просмотреть `Носитель` и увидеть не только то, что сделал агент, но и то, что он _мог бы_ сделать. Затем он может одобрить действие или изменить `solution`, выбрав другие `Calls` из предоставленной `schema`.
- **Перепланирование:** Если `Call` завершается неудачей, агент может переоценить ситуацию. У него уже есть полный `context` и полная `schema` его опций, что позволяет ему легко выбрать альтернативный `Call` и создать новый `Носитель`.
- **Повторное использование:** `Носитель` можно использовать как шаблон или пример для будущих решений в схожих контекстах.

### 2.1. Интерактивное путешествие во времени

Поскольку `Идея-Носитель` — это полный, автономный и неизменяемый снимок, она делает возможным своего рода интерактивное путешествие во времени. Загрузив `Носитель` из прошлого, можно взаимодействовать с агентом точно так, как он существовал в тот момент.

`Schema` гарантирует, что возможности агента «заморожены» во времени; даже если сам агент был обновлен и получил новые `Tools`, исторический `Носитель` представит только те опции, которые были доступны на момент его создания. Это позволяет пользователю или другому агенту:

- **Воспроизводить историю:** Полностью реконструировать прошлое решение.
- **Исследовать альтернативы:** Предоставить историческому `Носителю` другой `context` для запуска сценариев «что, если», исследуя, как прошлая версия агента отреагировала бы на другие входные данные.

Это предоставляет мощный механизм для отладки, аудита и понимания эволюции поведения агента с течением времени.

## 3. Носитель в цикле исполнения

`Носитель` представляет собой один тактический шаг цикла исполнения. Это решение, принятое и записанное в рамках одной итерации. Результаты его `Calls` затем возвращаются в `context` для следующего шага, что потенциально может привести к созданию нового `Носителя`.

> Sidenote: [005: Агент/Цикл](./005_agent_loop.md)

Этот реактивный паттерн эффективен для создания агентов, способных разумно реагировать на события в реальном времени. Однако он не предназначен для организации сложных, многошаговых задач, требующих памяти и долгосрочной стратегии.

## 4. От реактивных моментов к проактивным планам

Хотя `Носитель` предоставляет полную запись одной реакции, для достижения более крупных целей требуется структура для проактивного, многошагового исполнения. Эту роль выполняет **Идея-Процесс**, которая применяет те же принципы автономности к стратегическому, сохраняющему состояние рабочему процессу.

> Sidenote: [203: Идея/Процесс](./203_idea_process.md)