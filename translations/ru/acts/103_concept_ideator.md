# 103: Концепция/Идеатор

> [!DEFINITION] [Идеатор](./000_glossary.md)
> `Idea`, которая принимает входные данные, о чем говорит сообщение в контексте с `type: "input"`. Она работает как функция, преобразуя вход в выход.

## Введение

Этот документ описывает протокол для **Идеаторов** и **Трансформеров Идей** как исполняемых компонентов, работающих по принципу сервисов. Он основан на базовом документе [101: Концепция/Идея](./101_concept_idea.md), который определяет основную структуру данных, и описывает, как `Idea` превращается в функциональную, вызываемую сущность.

Подробнее о различных моделях хостинга и развертывания можно узнать в документе [102: Концепция/Суверенитет](./102_concept_sovereignty.md).

## От Идеи к Идеатору

**Идеатор** — это не отдельная сущность, а функциональная роль, которую может выполнять любая `Idea`. Его можно рассматривать как функцию, которая выполняет работу, преобразуя входные данные в выходные в **скрытом пространстве**. Это означает, что его логика не всегда определяется явным кодом, а направляется богатым `context`-ом `Idea` — ее схемами, примерами и инструкциями на естественном языке, которые интерпретируются LLM.

Определяющим признаком того, что `Idea` является Идеатором, является наличие в `context` сообщения с `type: "input"`. Это сообщение определяет схему данных, которые ожидает Идеатор. _Исполняемый_ Идеатор может также содержать в `context` сообщение с `type: "code"`, указывающее на явную реализацию.

### Трансформер Идей: Частный случай

Распространенный и мощный паттерн — это Идеатор, входными данными для которого является другая `Idea`. Мы называем такой тип Идеатора **Трансформером Идей**. Именно это позволяет создавать композиционные конвейеры, в которых Идеи связываются в цепочки и развиваются.

## Реализации и композиция

Архитектурные принципы, изложенные в этом документе, определяют **поведенческий контракт** для любого сервиса-Идеатора. Этот контракт предназначен не для одной программы, а является стандартом для взаимодействия, что позволяет создавать множество реализаций и богатую композиционную экосистему.

### Множество реализаций

Контракт сервиса-Идеатора выполняется, если он следует своему публичному API (принимает `Idea` и возвращает другую). Это позволяет создавать различные конкретные реализации, каждая из которых подходит для своих случаев использования:

- **Управляемые сервисы**: Провайдер может предложить хостинг в виде управляемого облачного сервиса, абстрагируя инфраструктуру, как описано в [Протоколе Суверенитета](./102_concept_sovereignty.md).
- **Собственные инсталляции**: Разработчик может запустить собственную реализацию сервиса на своей инфраструктуре, получая полный контроль.
- **Реализации в памяти**: Для локальной разработки и тестирования логику выполнения Идеатора можно запустить как простую функцию в памяти, полностью минуя сеть, но при этом соблюдая основной контракт.

### Композиция и системы высшего порядка

В этой экосистеме нет понятия "приватного API". Все сервисы созданы для взаимодействия через свои публичные, основанные на контрактах, интерфейсы.

Более сложные сервисы, которые можно считать **Системами Высшего Порядка**, создаются путем композиции других, более примитивных `Ideators`. Внутренняя логика сервиса высшего порядка включает вызовы публичных API других `Ideators`.

Например, система **Реактор** — это `Ideator` высшего порядка. Для управления игрой он может:

1.  Принять `Idea` с состоянием игры через свой публичный API.
2.  Внутренне вызвать публичный сервис `Player` для создания и управления идентификаторами игроков.
3.  Вызвать публичный сервис `Storage` для записи истории игры.
4.  Вернуть новую `Idea` с состоянием игры через свой публичный API.

Снаружи Реактор — это просто еще один `Ideator`. Его сложность управляется внутри за счет композиции других независимых публичных сервисов. Это гарантирует, что вся система остается модульной, прозрачной и масштабируемой.

- Требует:
  - [101: Концепция/Идея](./101_concept_idea.md)
  - [007: Агент/Ввод](./007_agent_input.md)
- Открывает возможности для:
  - [004: Агент/Вызов](./004_agent_call.md)
  - [102: Концепция/Суверенитет](./102_concept_sovereignty.md)