# 302: Идеатор/Ресолвер

**Система: :term[Ресолвер]{canonical="Resolver"}** — это мощный `Idea Transformer`, который позволяет компоновать и динамически связывать `Ideas`. Будучи важным дополнением к [Системе: :term[Хранилищу]{canonical="Storage"}](./301_ideator_storage.md), цель :term[Ресолвера]{canonical="Resolver"} — взять `Idea` высокого уровня, содержащую ссылки на другие `Ideas`, и преобразовать её в полную, самодостаточную и исполняемую `Idea` со всеми разрешёнными ссылками.

Этот механизм позволяет `Ideas` становиться модульными и многократно используемыми строительными блоками, предотвращая дублирование данных и позволяя создавать сложные системы из более простых, версионированных компонентов.

## 2. Основная концепция: разрешение как Трансформатор Идей

Сервис :term[Ресолвера]{canonical="Resolver"} функционирует как `Idea Transformer` без состояния, который обогащает `Idea`, извлекая и встраивая её зависимости.

- **Входные данные**: `Idea`, чья `schema` или `context` содержит одну или несколько ссылок на другие `Ideas`.
- **Процесс**: :term[Ресолвер]{canonical="Resolver"} анализирует входную `Idea` для выявления этих ссылок. Для каждой ссылки он запрашивает настроенный набор сервисов `Storage` для получения соответствующего содержимого `Idea`. Затем он интеллектуально внедряет содержимое полученных `Ideas` в исходную.
- **Выходные данные**: Новая, «наполненная» `Idea`, где все ссылки заменены их разрешённым содержимым, что делает её полной, самодостаточной единицей, готовой к выполнению или дальнейшей обработке.

## 3. Ключевые характеристики

### 3.1. Синтаксис ссылок

Хотя конкретная реализация может варьироваться, ссылки должны быть выражены в ясном, однозначном формате, подобном URI. Этот формат должен позволять указывать уникальное имя `Idea`, а также, опционально, версию или ветку.

_Пример: Схема, компонующая несколько `Ideas` с использованием `allOf`._

```json
{
  "type": "object",
  "allOf": [
    { "$ref": "idea://my-org/article-template?version=1.2.0" },
    { "$ref": "idea://my-org/system-prompts/chain-of-thought?branch=latest" }
  ]
}
```

### 3.2. Глубокое (рекурсивное) разрешение

Процесс разрешения является рекурсивным. Если разрешённая `Idea` сама содержит дальнейшие ссылки, :term[Ресолвер]{canonical="Resolver"} будет продолжать извлекать и встраивать их до тех пор, пока весь граф зависимостей не будет разрешён, что приведёт к финальной `