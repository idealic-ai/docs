# 21: Компания/Предложение

> [!DEFINITION] Документ-предложение
> Временный артефакт-предложение, используемый для изложения желания изменить, улучшить или расширить что-либо до начала исполнения.
>
> Sidenote:
> - Часть: :term[02: Компания/Процесс]{href="./02_process.md" canonical="Company/Process"}
> - Следующий: :term[22: Компания/Согласование]{href="./22_document_alignment.md" canonical="Company/Alignment"}
> - Ранее известен как: Документ о намерениях, Документ об эволюции

## 1. Основная философия

Документ-предложение по сути является **RFC (Request for Comments)**. Он пишется **один раз** для каждой инициативы, чтобы обозначить желание перемен. Он возникает потому, что мы не можем написать спецификацию за один раз; мы должны разложить проблему на шаги. Одно Предложение примерно соответствует **Одному :term[Акту]{canonical="Act"}** работы.

Он **Сохраняется**. Он служит исторической записью об изменении видения и становится **Источником истины о намерении**.

## 2. Необходимость

Почему мы пишем Документ-предложение, а не просто сразу кодируем?

- **Преодоление «чистого листа»:** Мы не можем автоматизировать человеческое намерение. Предложение заставляет нас извлекать мысли из подсознания. **Диктовка** — предпочтительный метод для преодоления ступора и создания первоначального контента.
- **Источник задач:** Этот документ является основой, из которой создаются конкретные инженерные задачи (тикеты). Он гарантирует, что работа разбита на атомарные, управляемые части (например, задачи на 1 день).
- **Разделение ответственности:** Он отделяет «Что мы хотим» от «Как мы это реализуем». Это позволяет нам обсуждать ценность идеи, не увязая в синтаксисе.
- **Безопасное исследование:** Он позволяет предлагать радикальные изменения, не нарушая источник истины. Если Предложение отклонено, теряется только текстовый файл.
- **Контекст для машины:** LLM требуют точного контекста. Этот документ предоставляет «инструкцию-промпт» для машины (и команды).

## 3. Структура (Шаблон)

Документ-предложение следует строгой повествовательной структуре, предназначенной для проверки логики и безопасности. Следующие разделы являются **Стандартом**, но их можно адаптировать, если другая структура лучше отражает истину.

### 3.1. Контекст (Эволюция)

_Повествовательный шаблон:_ «Мы думали X, но узнали Y, поэтому должны сделать Z».

1.  **Исходное предположение:** Во что мы верили раньше?
2.  **Поворотный момент (Открытие):** Что изменилось? (Найден баг, новое требование, озарение).
3.  **Вывод:** Почему изменения необходимы именно сейчас?

### 3.2. Проблема и Область (Контракт)

1.  **Проблема:** Конкретное, опровержимое утверждение о том, что именно не работает.
2.  **Область (Что не входит):** Чёткий список того, чего мы **НЕ** делаем.
3.  **Сравнение:** Таблица «До и После» для наглядного отображения разницы.

### 3.3. Намерения (Атомарные изменения)

**Суть.** Разложение решения на гранулированные, независимые единицы изменений.

_Формат для каждого Намерения:_

- **Заголовок:** Краткое описание.
- **Тип:** {Исправление бага / Новая функция / Чистка кода / Рефакторинг}
- **Цель:** {Модуль / Файл / Компонент}
- **Обоснование:** Почему необходимо именно это изменение (исторический контекст).
- **Изменения/Логика:** Абстрактное представление изменения (псевдокод, интерфейс или описание логики). **Без кода реализации.**

### 3.4. Визуальная модель (Опционально)

_Рекомендуется:_ **Диаграмма Mermaid**, представляющая рабочий процесс, конечный автомат или взаимодействие. Используйте, если текст не может полностью передать сложность.

### 3.5. Паттерны использования (Опционально)

_Рекомендуется:_ Конкретные примеры того, как новая система будет _использоваться_. Докажите, что дизайн эргономичен.

### 3.6. Безопасность и риски (Опционально)

1.  **Риски:** Что может сломаться?
2.  **Меры по снижению рисков:** Как мы это предотвратим?
3.  **Инвариантность:** Что должно оставаться неизменным (например, «Производительность не должна падать ниже X»).

### 3.7. Критерии завершения

Контрольный список шагов для проверки (тесты, документация, интеграция), определяющий, что значит «Готово».

### 3.8. Рассмотренные варианты

Альтернативы, которые были отклонены, и _почему_.

---

> [!NOTE] Частичное завершение
> Если предложение создается на основе диктовки или с ограниченным контекстом, допустимо помечать разделы как `(TBD)` или `(Заполнитель)`. Структура служит руководством к тому, что _должно_ быть известно, даже если это пока неизвестно.

## 4. Жизненный цикл

1.  **Черновик:** Создается автором через диктовку или ИИ-промпт.
2.  **PR:** Отправляется как Pull Request.
3.  **Обсуждение:** Обсуждается командой.
4.  **Консенсус:** :term[Документ о согласовании]{href="./22_document_alignment.md" canonical="Alignment Document"} создается и проверяется.
5.  **Правка:** Предложение обновляется в соответствии с Документом о согласовании (Консенсусом).
6.  **Заморозка:** Предложение помечается как «Принято» и становится неизменным.
7.  **Исполнение:** Предложение служит основой для обновления Спецификации.
8.  **Архивация:** Сохраняется как история.

## 5. Характеристики

- **Сроки:** Создается примерно за 1 день.
- **Обновления:** Пишется один раз, чтобы зафиксировать изменение видения.
- **Характер:** Сохраняемый/Исторический.
- **Источник истины:** **О намерении**.
- **Аналогия:** RFC / Один :term[Акт]{canonical="Act"}.
