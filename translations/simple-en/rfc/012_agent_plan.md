# 012: Агент/План

> **План:** Это как подробный рецепт или план проекта, состоящий из отдельных шагов, называемых `Вызовами Инструментов`. Этот план выглядит как схема, где шаги могут выполняться только в одном направлении, без возврата назад. Он определяет, какие действия и в каком порядке нужно сделать, причём некоторые шаги зависят от результатов предыдущих. Эта зависимость возникает, когда один инструмент записывает результат своей работы в общую «память» (`Объект Состояния`), а другой инструмент считывает его оттуда, чтобы начать свою работу. — [Глоссарий](./000_glossary.md)

> [!WARNING]
> Этот документ пока что является заготовкой и будет расширен в будущем. Он описывает основные идеи Планов как более сложной системы, построенной на основе систем Состояния и Вызовов.

> Sidenote:
>
> - Требует наличия:
>   - [004: Агент/Вызов](./004_agent_call.md)
>   - [005: Агент/Цикл](./005_agent_loop.md)
>   - [010: Агент/Состояние](./010_agent_state.md)
>   - [011: Агент/Инстансинг](./011_agent_instancing.md)

Этот документ описывает **Протокол Плана** — систему для создания и выполнения сложных, многошаговых задач. План представлен в виде схемы, похожей на дерево или карту дорог, которая называется «направленный ациклический граф». Эта структура позволяет выполнять задачи очень гибко: например, выбирать разные пути в зависимости от результата (ветвление), объединять результаты нескольких параллельно выполненных задач или запускать независимые `Вызовы` одновременно.

`План` — это как карта действий, которую агент выполняет внутри **[005: Агент/Цикла](./005_agent_loop.md)**.

Представьте, что агент — это повар, а `Цикл` — это один раунд его работы на кухне. За один раунд повар может делать несколько вещей одновременно (например, резать овощи и следить за супом). Но чтобы приготовить сложное блюдо, ему нужен полный рецепт — это и есть `План`. План говорит повару, какие раунды работы (`Циклы`) и в какой последовательности нужно выполнить, чтобы в итоге достичь большой цели — приготовить блюдо.