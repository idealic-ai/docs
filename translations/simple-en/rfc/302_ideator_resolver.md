# 302: Идеатор/Решатель

## 1. Введение

Этот документ описывает **Систему: Решатель** — это мощный `Трансформатор Идей`, который помогает соединять и связывать `Идеи` между собой. Решатель — это важный помощник для [Системы: Хранилище](./301_ideator_storage.md). Его задача — взять одну большую `Идею`, в которой есть ссылки на другие `Идеи`, и превратить её в одну цельную, самодостаточную и готовую к работе `Идею`, в которой все ссылки уже раскрыты.

Это похоже на то, как если бы вы строили что-то из LEGO. Вы можете создавать маленькие детали (например, колесо или двигатель) и потом использовать их в разных моделях (в машине или самолёте), не создавая колесо заново каждый раз. Так и `Идеи` становятся многоразовыми кубиками, что помогает избегать путаницы и строить сложные штуки из простых частей.

## 2. Основная концепция: Решение как трансформация Идеи

Решатель работает как `Трансформатор Идей`, который не запоминает прошлые запросы. Он просто обогащает одну `Идею`, находя и добавляя в неё всё, от чего она зависит.

*   **Что ему дают (Вход):** `Идею`, в которой есть одна или несколько ссылок на другие `Идеи`.
*   **Что он делает (Процесс):** Решатель читает эту `Идею` и находит все ссылки. По каждой ссылке он обращается к специальным библиотекам (`Хранилищам`), чтобы найти нужную `Идею`. Затем он аккуратно вставляет содержимое найденных `Идей` в исходную.
*   **Что получается (Выход):** Новая, «наполненная» `Идея`, в которой все ссылки заменены настоящим содержимым. Теперь это полностью готовая инструкция, которую можно использовать для работы.

## 3. Ключевые особенности

### 3.1. Как записывать ссылки

Ссылки должны быть записаны в понятном формате, похожем на адрес сайта в интернете (URI). В этом адресе нужно указать уникальное имя `Идеи` и, если нужно, её версию.

_Пример: схема, которая собирает несколько `Идей` в одну._

```json
{
  "type": "object",
  "allOf": [
    { "$ref": "idea://my-org/article-template?version=1.2.0" },
    { "$ref": "idea://my-org/system-prompts/chain-of-thought?branch=latest" }
  ]
}
```
Это как сказать компьютеру: «Чтобы создать финальный объект, используй инструкции из `Идеи` `article-template` версии 1.2.0, а также добавь к ним самую последнюю версию `Идеи` `chain-of-thought`».

### 3.2. Глубокое (рекурсивное) решение

Процесс сборки очень тщательный. Если Решатель находит `Идею`, а внутри неё есть ссылки на другие `Идеи`, он не остановится. Он будет продолжать искать и добавлять новые части, пока не соберёт абсолютно всё.

Это похоже на то, как вы читаете книгу, а в ней есть сноска на другую книгу. Вы находите ту вторую книгу, а в ней — сноска на третью. Решатель пройдёт по всей этой цепочке до самого конца, пока не соберёт для вас одну большую папку со всеми страницами из всех книг, на которые были ссылки.
