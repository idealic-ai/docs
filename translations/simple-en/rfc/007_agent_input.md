# 007: Агент/Ввод

> **Сообщение Ввода:** Это специальное сообщение, в котором есть «правила» (`schema`) и сами «данные» (`input`). Когда такое сообщение появляется у «Идеи», она превращается в «Идеатор», потому что теперь понятно, какая информация ей нужна для работы. — [Словарь](./000_glossary.md)

> Sidenote:
>
> - Требует: [101: Концепция/Идея](./101_concept_idea.md)
> - Включает: [103: Концепция/Идеатор](./103_concept_ideator.md)

Этот документ описывает **Протокол Ввода** — систему, которая помогает задавать чёткие инструкции для `Идей`. Благодаря этому протоколу появляется особый тип сообщений. Если добавить его к `Идее`, она из простого знания превращается в нечто, что можно запустить, как программу. Такую «умную» `Идею` мы называем **Идеатор**.

## Тип сообщения `Input`

Сообщение `Input` — это как официальная анкета, которую должна заполнить `Идея`, чтобы начать работать. Оно помогает записать, какие именно данные были использованы для получения конкретного `решения`. Это завершает «Триаду Идеи» и сохраняет полную, воспроизводимую запись всего процесса.

В сообщении `Input` есть два главных поля:

1.  **`schema`**: Это набор правил, как чертёж. Он описывает, какая информация нужна `Идее`: её вид, формат и ограничения. Например: «Мне нужны два числа и одно слово».
2.  **`input`**: Это уже конкретные данные, которые соответствуют правилам из `schema`. Например: числа 5 и 10, и слово «привет».

Когда `Идея` так чётко описывает не только свой результат (`решение`), но и то, что ей нужно для работы, она становится самодостаточной и понятной.

### Путь к простоте использования

Самое классное в этом протоколе — то, что он позволяет автоматически создавать интерфейс для пользователя, то есть кнопки и поля для ввода на экране. Поскольку `schema` точно описывает, какие данные нужны, система может сама нарисовать форму с правильными полями, подсказками и проверками. Благодаря этому любую `Идею` можно мгновенно превратить в рабочее веб-приложение, с которым легко может взаимодействовать человек.

## От Идеи к Идеатору

Как мы уже говорили в документе [101: Концепция/Идея](./101_concept_idea.md), наличие сообщения `Input` у `Идеи` — это главный знак того, что перед нами **Идеатор**. То есть `Идея`, которая умеет выполнять работу. Она становится функцией, которую можно запустить снова и снова.

## Взаимодействие с протоколом Инстансинга

Сообщение `Input` отлично работает вместе с [011: Агент/Инстансинг](./011_agent_instancing.md). Это позволяет придумывать хитрые способы сбора данных, когда нужно обработать много однотипных задач за раз. Протокол может работать в двух режимах:

1.  **Глобальный Ввод**: Представь, что ты даёшь одну и ту же инструкцию целому классу. Если сообщение `Input` не помечено специальным ярлыком `_instance`, его данные считаются «общими» для всех. Они доступны каждому экземпляру, который обрабатывается в запросе. Это удобно, чтобы задать общие настройки или параметры, которые одинаковы для всех задач.

2.  **Ввод для конкретного экземпляра**: А теперь представь, что ты даёшь каждому ученику в классе уникальное задание. Если в сообщении `Input` есть ярлык `_instance`, то данные берутся только для этого конкретного экземпляра. Это мощный способ давать уникальные инструкции каждой задаче или использовать её собственные данные для работы общего `Идеатора`.

Такая гибкость позволяет создавать очень эффективные процессы, где один и тот же `Идеатор` может использовать общие «глобальные» настройки, но при этом подстраиваться под уникальные данные каждого отдельного экземпляра, который он обрабатывает.

## Инверсия: от Идеатора к Инструменту

`Идеатор` — это самодостаточная, готовая к запуску концепция. Но чтобы агент мог использовать его в своей пошаговой работе, нам нужно превратить его в **Инструмент**. Этот процесс превращения `Идеатора`, который сфокусирован на результате, в `Инструмент`, который сфокусирован на интерфейсе, называется **инверсией**. Мы как бы переворачиваем его с ног на голову, чтобы главным стали входные данные.

`Идея` — это триада, которая описывается своим результатом, то есть `схемой` и `решением`:
`{ context, schema, solution }`

Чтобы превратить её в `Инструмент`, мы заглядываем в её `контекст` и ищем там сообщение `Input`. Главный шаг инверсии — **вынести** правила из `schema` этого сообщения на самый верхний уровень. Они становятся главными параметрами `Инструмента` (подробнее о структуре `Инструмента` читай в [002: Агент/Инструмент](./002_agent_tool.md)).

Так мы получаем определение `Инструмента`, которое, по сути, является описанием функции, готовой к регистрации в системе агента и к использованию в `Вызове`.