# 008: Агент/Импорты

> **Импорт:** Это как список покупок для информации. Он указывает, какие именно данные из общей беседы нужно `импортировать` (то есть сделать доступными) для выполнения задачи. Это помогает сфокусировать внимание нейросети при **Скрытом Встроенном** выполнении или создать совершенно новую, чистую рабочую среду для выполнения в **Модульной Области**. Управляется свойством `_imports`. — [Глоссарий](./000_glossary.md)

В документе [004: Агент/Вызов](./004_agent_call.md) мы узнали об основных способах выполнения `Вызова`: **Область** (Встроенная или Модульная) и **Метод** (Явный или Скрытый). Правила Импорта объясняют, как совмещать эти способы и управлять информацией для каждого из них.

## Совмещение Области и Метода

Представьте, что у вас есть умный помощник. Вот четыре способа, как он может выполнить вашу просьбу:

1.  **Встроенный Явный (`_activity`)**: Это как обычное использование инструмента. Например, вы просите помощника посчитать «2+2». Он видит числа (`params`) и тут же использует встроенный калькулятор (`_activity`). Здесь `_imports` обычно не нужны, так как действие простое и прямое.

2.  **Встроенный Скрытый (без `_activity`)**: Здесь помощник сам придумывает и ответ, и как он к нему пришел, за один раз. Это похоже на фокусировку камеры. С помощью `_imports` вы можете сказать ему: «Смотри только на последнее сообщение пользователя и ни на что больше». Это помогает ему не отвлекаться на постороннюю информацию в беседе.

3.  **Модульный Явный (`_module` + `_activity`)**: Помощнику нужно использовать специальный инструмент из отдельного «ящика с инструментами» (`_module`). Он готовит для него данные (`params`), а затем этот инструмент (`_activity`) включается и делает свою работу в отдельной, изолированной среде. Если указать `_imports`, то вы как бы передаете этому инструменту только определенные материалы из основной «комнаты».

4.  **Модульный Скрытый (`_module`, без `_activity`)**: Помощник готовит данные (`params`), а затем уходит в отдельную «чистую комнату» (`_module`), чтобы там подумать. `_imports` — это как стопка книг, которую вы ему разрешаете взять с собой. В этой комнате для него не существует ничего, кроме этих книг и его собственных инструкций.

## Фокусируем поле зрения

Свойство `_imports` — это главный способ контролировать, какую информацию видит задача. Оно работает как фильтр, который пропускает только то, что разрешено, и отсекает всё остальное. Это как надеть на лошадь шоры, чтобы она смотрела только вперед.

*   **Во Встроенной Области**: `_imports` помогают нейросети сфокусировать внимание.
*   **В Модульной Области**: `_imports` создают _весь мир_ для изолированной задачи. Ничего другого для нее просто не существует.

## Предоставление и Запрос информации: Статические и Динамические импорты

То, как прописано свойство `_imports` в правилах для Инструмента, определяет, получает ли он информацию автоматически или должен сам её запрашивать.

*   **Статические импорты (Предоставление информации)**: Представьте, что это заранее собранный набор инструментов. Если в правилах написано `_imports: { "const": ["user_request"] }`, это значит, что создатель инструмента раз и навсегда решил: «Этот инструмент *всегда* будет получать только запрос пользователя и ничего больше». Это очень безопасно и предсказуемо.

*   **Динамические импорты (Запрос информации)**: Это больше похоже на то, как работник просит дать ему нужные материалы со склада. Если в правилах указан список возможного (`_imports: { "type": "array", "items": { "enum": ["session_memory"] } }`), то нейросеть в процессе работы сама решает: «Так, чтобы ответить на этот вопрос, мне нужно посмотреть историю беседы (`session_memory`)». Это более гибкий подход. Особенно полезно, когда человек должен одобрить такой запрос, обеспечивая дополнительный контроль.

## Сила ограниченного контекста

*   **Повышенная безопасность и фокус**: Ограничивая доступ к данным, импорты защищают от случайных утечек информации и помогают нейросети лучше концентрироваться. В итоге задачи выполняются точнее, быстрее и дешевле.
*   **Улучшенная модульность**: Импорты позволяют создавать по-настоящему независимые и переиспользуемые модули (`Идеи` и `Активности`). Они не зависят от всей истории переписки, а работают только с теми «ингредиентами», которые вы им передаете.