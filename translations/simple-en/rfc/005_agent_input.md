# 007: Агент/Ввод

> **Сообщение Ввода:** Контекстное сообщение, содержащее `схему` и `входные` данные. Его наличие превращает `Идею` в `Идеатор`, определяя, какие данные ему нужны для работы.
>
> — [Глоссарий](./000_glossary.md)

> Sidenote:
>
> - Требуется: [Протокол Идеи](./101_concept_idea.md)
> - Включает: [Протокол: Идеаторы](./103_concept_ideator.md)

Этот документ описывает **Протокол Ввода** — систему, которая объясняет, какие именно данные нужны `Идеям` для работы. Этот протокол вводит специальное сообщение. Когда оно добавляется к `Идее`, она превращается из простого кусочка знаний в нечто, что может выполнять действия, как мини-программа. Такую «умную» `Идею` мы называем **Идеатор**.

## Тип сообщения `Input`

Сообщение `Input` — это специальная «записка», которая формально объявляет, какие данные принимает `Идея`. Представьте, что вы печёте торт. Готовый торт — это ваше `решение`. Сообщение `Input` — это одновременно и список нужных ингредиентов, и сами ингредиенты, которые вы использовали. Это создаёт полную запись всего процесса, чтобы его можно было в точности повторить.

У сообщения `Input` есть два ключевых поля:

1.  **`schema`**: Это как правила для ваших ингредиентов. Они говорят: «Нужна мука, и она должна быть в граммах. Нужно название, и оно должно быть текстом».
2.  **`input`**: Это реальные данные, которые вы использовали в этот раз, строго по правилам `схемы`. Например: `{"мука": 500, "название": "Торт"}`.

Благодаря такому описанию любая `Идея` может объяснить не только то, что она создала (`решение`), но и то, что ей для этого понадобилось.

### Путь к простоте использования

Огромный плюс этого протокола в том, что он позволяет автоматически создавать интерфейсы для людей. Поскольку `схема` чётко описывает все необходимые данные, система может на лету создать форму с нужными полями, подсказками и проверками. Это позволяет мгновенно сделать любую `Идею` полезной для человека, без лишней сложной работы.

## От Идеи к Идеатору

Как уже было сказано в [Протоколе Идеи](./101_concept_idea.md), наличие сообщения `Input` в контексте `Идеи` — это главный сигнал того, что перед нами **Идеатор**. То есть `Идея`, которая выполняет работу. Она становится воспроизводимой функцией.

## Взаимодействие с Протоколом Инстансинга

Сообщение `Input` отлично работает вместе с [Протоколом Инстансинга](./011_agent_instancing.md), который помогает выполнять одну и ту же задачу для множества разных элементов за раз. Оно может работать в двух режимах:

1.  **Общий Ввод**: Представьте, что вы даёте одно задание всему классу, например, «нарисуйте дерево». Это общая инструкция для всех. Точно так же, если сообщение `Input` не привязано к конкретному элементу (нет поля `_instance`), его данные считаются «общими» и доступны каждому, кто выполняет работу.

2.  **Ввод для Экземпляра**: А теперь представьте, что вы даёте каждому ученику персональное задание: «Маша, нарисуй дуб», «Петя, нарисуй ёлку». Здесь вы используете уникальные данные для каждого. Если в сообщении `Input` есть метка `_instance`, то данные берутся přímo из этого конкретного элемента.

Такая гибкость позволяет настраивать `Идеатор` с помощью общих правил, а затем уточнять его работу уникальными данными для каждого отдельного случая.

## Инверсия: от Идеатора к Инструменту

`Идеатор` — это самодостаточная вещь, которая знает, как получить результат. Но чтобы умный агент мог использовать её в своей работе, её нужно превратить в **Инструмент** — что-то вроде кнопки, которую агент может «нажать».

Для этого мы делаем «инверсию» — выворачиваем `Идеатор` наизнанку. Мы перестаём думать о результате и фокусируемся на том, что нужно для начала работы.

`Идея` состоит из трёх частей: `{ контекст, схема, решение }`.

Чтобы превратить её в `Инструмент`, мы заглядываем в её `контекст`, находим сообщение `Input`, берём оттуда правила (`схему`) и делаем их главными настройками для нового `Инструмента`.

Это похоже на то, как взять рецепт торта (`Идеатор`) и вместо инструкций по готовке создать на кухонном комбайне кнопку «Испечь торт» с полями «вкус» и «размер». Так у агента появляется готовый к использованию `Инструмент`.