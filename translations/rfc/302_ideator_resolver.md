### Представь, что мы строим что-то крутое из LEGO.

#### 1. Главная идея

У нас есть большая коробка со всеми возможными инструкциями и детальками LEGO. Эту коробку мы называем **Хранилище (Storage)**.

Теперь представь, что ты хочешь построить огромный замок. Вместо того чтобы каждый раз придумывать, как построить башню или мост, у тебя есть короткая записка-план. В ней написано: «Возьми инструкцию для „стандартной башни“, добавь „крутой подъемный мост“ и соедини их стеной».

Вот тут-то и появляется наш главный герой — **Сборщик (Resolver)**.

Это супер-умный робот-помощник. Его работа — взять твою короткую записку-план и превратить её в одну большую, полную и понятную инструкцию для постройки всего замка. Он бежит в Хранилище, находит нужные инструкции для башни и моста, копирует их и вставляет в твой главный план. В итоге у тебя на руках оказывается одна здоровенная книга, где по шагам расписано всё от начала и до конца.

Благодаря Сборщику, мы можем создавать маленькие, удобные «кубики»-инструкции (как для башни) и потом использовать их в любых больших проектах, не копируя одно и то же по сто раз.

#### 2. Как работает Сборщик?

Сборщик — это как волшебный ксерокс и степлер в одном лице.

*   **Что ему нужно?** Ты даёшь ему свой основной план (мы называем его **Идея**), в котором есть отсылки-записочки вроде «взять инструкцию отсюда».
*   **Что он делает?** Робот читает твой план, находит все эти отсылки, бежит в Хранилище за каждой нужной инструкцией. Затем он аккуратно «вклеивает» содержание этих инструкций прямо в твой основной план, заменяя отсылки.
*   **Что получается?** Ты получаешь новую, «наполненную» Идею-инструкцию, где все части уже на своих местах. Она полностью готова к работе — можно брать и строить!

#### 3. Важные особенности

**Как выглядят отсылки?**

Чтобы Сборщик точно знал, что искать, отсылки выглядят как специальные адреса или ссылки в интернете. В них указано точное имя инструкции и даже её версия (чтобы случайно не взять старую, где башня кривая).

Например, адрес может выглядеть так:
`лего://мои-проекты/шаблон-башни?версия=1.2.0`

**А если в инструкции есть другая инструкция?**

Что, если в инструкции для «стандартной башни» тоже есть отсылка: «а лестницу возьми из инструкции „винтовая лестница“»?

Без проблем! Наш Сборщик очень дотошный. Он будет «нырять» всё глубже и глубже. Он найдёт инструкцию для башни, увидит в ней отсылку к лестнице, сбегает за инструкцией для лестницы, вставит её в инструкцию башни, а уже потом всю эту готовую инструкцию башни вставит в твой главный план замка. Он будет делать это до тех пор, пока не останется ни одной отсылки. Это как открывать матрёшку за матрёшкой, пока не дойдёшь до самой последней.