# 009: Агент и его План

Представь, что тебе нужно построить очень сложный замок из LEGO, а твой друг — это робот-помощник (наш «Агент»). Просто сказать ему «построй замок» не получится. Ему нужна подробная инструкция.

Вот эта инструкция и есть `План`.

`План` — это не просто список шагов, а скорее карта или схема сборки. На этой карте есть отдельные действия (мы их называем `Tool Calls`, «вызовы инструментов»), например: «найди красный кирпичик», «соедини два синих кирпичика», «поставь башню на стену».

У этой карты-схемы есть два очень важных правила:

1.  **Движение только вперёд.** Все стрелочки на карте ведут от одного шага к следующему. Ты не можешь вернуться от шага «прикрепить крышу» к шагу «построить фундамент». Всё делается по порядку.

2.  **Никаких кругов.** Ты никогда не зациклишься и не вернёшься к шагу, который уже выполнил. Ты всегда движешься к завершению замка.

**Зачем нужна такая сложная схема?**

Потому что некоторые шаги зависят от других. Например, ты не можешь поставить башню на стену (`Шаг Б`), пока сама стена не построена (`Шаг А`). Схема как раз и показывает такие зависимости.

А ещё она позволяет нашему роботу-помощнику быть суперэффективным. Если для замка нужно построить две одинаковые башни, робот может строить их одновременно, чтобы сэкономить время. А потом, когда обе будут готовы, карта покажет, что их пора объединять в одну конструкцию.

**А как же `Agent/Loop` (цикл Агента)?**

Один `Loop` (цикл) — это как один «подход» робота к работе. Он смотрит на свою схему (`План`) и выполняет все шаги, которые можно сделать прямо сейчас. Например, за один подход он может начать строить левую башню и одновременно правую.

`План` — это то, что позволяет агенту видеть всю картину целиком и совершать много таких «подходов» подряд, чтобы в итоге выполнить большую и сложную задачу, а не просто одно маленькое действие.
