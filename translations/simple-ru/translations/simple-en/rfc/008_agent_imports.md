# 008: Агент/Импорты

> **Импорт:** Представь, что ты делаешь поделку, и у тебя есть огромная коробка со всеми материалами. «Импорт» — это как список покупок, который говорит, какие именно предметы нужно взять из коробки для текущего шага. Он помогает компьютерной программе (ИИ) сосредоточиться только на той информации, которая нужна для конкретной задачи.

[В документе о Вызовах](./004_agent_call.md) объяснялось, что ИИ можно попросить выполнить работу двумя основными способами: где он её делает (**Область**: прямо здесь или в отдельной комнате) и как он её делает (**Метод**: используя простой инструмент или обдумывая всё самостоятельно). Этот документ объясняет, как мы используем «Импорты» для управления информацией в каждой из этих ситуаций.

## Сочетание места и способа работы ИИ

Давай представим, что ИИ — это шеф-повар на большой кухне.

1.  **Работать здесь, использовать инструмент (`_activity`)**: Это как если бы повар использовал блендер на своём основном рабочем месте. ИИ получает ингредиенты (`params`), и машина (`_activity`) немедленно выполняет работу. Обычно здесь не нужен список «Импорта», потому что инструмент просто делает свою единственную работу.

2.  **Работать здесь, обдумать самостоятельно (без `_activity`)**: Повар находится на своём основном рабочем месте. Ты просишь приготовить фруктовый смузи (`_output`) и даёшь ему список (`_imports`) одобренных фруктов. Этот список помогает повару сосредоточиться только на фруктах, чтобы он не отвлекался на овощи или специи на кухне. Он сам придумывает рецепт (`params`) и делает смузи (`_output`) за один раз.

3.  **Работать в отдельной комнате, использовать инструмент (`_module` + `_activity`)**: Ты говоришь повару пойти в специальную комнату для выпечки (`_module`) и использовать духовку (`_activity`). Список «Импорта» (`_imports`) говорит повару, какие именно ингредиенты (например, муку и сахар) ему разрешено взять с собой в эту комнату.

4.  **Работать в отдельной комнате, обдумать самостоятельно (`_module`, без `_activity`)**: Ты говоришь повару пойти в комнату для выпечки (`_module`). Список «Импорта» (`_imports`) предоставляет *единственные* ингредиенты, которые он может использовать. Оказавшись внутри, ты просто говоришь ему: «Сделай торт». Повару придётся самому придумать, как сделать торт, используя только те ингредиенты, которые ты разрешил ему взять.

## Фокусировка на том, что видит ИИ

Свойство `_imports` — это как шоры для лошади. Это основной способ контролировать, какую информацию ИИ может видеть во время работы.

-   **При работе «здесь» (внутри)**: Шоры (`_imports`) помогают ИИ сосредоточиться на текущей задаче и не отвлекаться.
-   **При работе в «отдельной комнате» (модуле)**: Шоры (`_imports`) определяют *всё*, что ИИ может видеть. Если чего-то нет в списке, этого просто не существует в этой комнате.

## Предоставление и запрос информации

Как мы решаем, что будет в списке импорта? Есть два способа, которые настраиваются при первоначальном создании инструмента для ИИ.

-   **Статические импорты (предоставление информации)**: Это когда создатель инструмента заранее решает, какую именно информацию инструменту разрешено видеть. Этот список не подлежит обсуждению. Например, инструмент-калькулятор может быть навсегда настроен на импорт только чисел.

> Sidenote:
> 
> Эта схема показывает, что из всей доступной информации (такой как `input` и `state`), список импорта (`_imports: ['input']`) позволяет пройти только `input`. Иногда человеку может потребоваться сначала одобрить это. Информация `state` игнорируется.
> 
> ```mermaid
graph TD
    subgraph Parent Context
        direction LR
        input("input")
        state("state")
    end

    subgraph Tool Call
        direction LR
        filter{{"_imports: ['input']"}}
    end

    input --> filter
    state -.-> filter

    subgraph Provisioned Context
        direction LR
        input_prov("input")
    end

    filter --> HITL{{Human approval}}
    HITL --> input_prov
    input_prov --> Execute(Execute Tool)

    classDef unused stroke-dasharray: 5, 5, stroke:#aaa, color:#aaa
    class state unused
    classDef optional stroke-dasharray: 5, 5
    class HITL optional
```

-   **Динамические импорты (запрос информации)**: Это когда ИИ может *запросить* необходимую ему информацию из заранее утверждённого списка. Например, ИИ может быть разрешено запрашивать `time` (время) или `weather` (погоду), и он сам решает, что ему нужно для текущей задачи.

Этот метод «запроса» очень полезен, потому что можно настроить так, чтобы человек одобрял запрос ИИ, прежде чем тот получит информацию. Это добавляет отличный уровень безопасности и контроля.

## Почему ограничение информации — это суперсила

-   **Больше безопасности и концентрации**: Надевая на ИИ шоры, мы не даём ему случайно увидеть личную информацию. Это также помогает ИИ сосредоточиться, что означает, что он делает меньше ошибок, быстрее справляется с работой и его использование стоит дешевле.
-   **Делает компоненты многоразовыми (как кубики LEGO)**: Импорты позволяют нам создавать небольшие, специализированные инструменты для ИИ, которые можно использовать снова и снова в разных проектах. Поскольку они получают только ту конкретную информацию, которая им нужна, их можно подключать где угодно, не беспокоясь, что они что-то сломают.