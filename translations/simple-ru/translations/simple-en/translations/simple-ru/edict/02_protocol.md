# Часть II: Протокол

---

_Представь, что мы строим новый мир в интернете — свободный и открытый для всех. Мы не можем построить его на старом, шатком фундаменте, где всем заправляет один человек или компания. Пытаться смешать старое и новое — это как ставить деревянные колёса от телеги на гоночный автомобиль. Ничего не получится. Чтобы создать что-то по-настоящему свободное, нам нужен совершенно новый фундамент, придуманный с нуля. Это не «платформа», это протокол._

---

### (Глава 4) Архитектура освобождения

**Операционная система для идей**

Мы не строим очередной гигантский сайт, который будет отнимать твоё время и данные. Мы создаём _операционную систему для идей_ — представь себе Windows или Android, но только для твоих мыслей, а не для приложений. Цель не в том, чтобы создать одно-единственное супер-приложение для всех, а в том, чтобы подготовить плодородную почву, где каждый сможет посадить свои собственные «живые идеи», наблюдать, как они растут, и связывать их с другими. Другие люди могут и должны создавать свои собственные программы для работы с этой системой. Кто-то может сделать простой архив для хранения идей, а кто-то — сложный инструмент для их анализа. Богатство и здоровье всей системы будут зависеть от этого разнообразия, а не от того, что у кого-то одного есть все лучшие идеи.

По своей природе протокол можно расширять. **Идеи** (живые документы, которыми можно делиться и которые могут развиваться) — это не просто одинаковые заметки. У них есть разные типы, каждый со своим смыслом. Например, есть `Записи`, `Процессы` или `Агенты`. Это как набор LEGO: у тебя есть простые кирпичики, но есть и колёса, окна и человечки. Мы предоставляем базовый набор таких «типов идей», из которых можно построить почти всё что угодно. Но самое главное — протокол открыт. Любой может придумать и создать свой собственный тип «идеи». И твоей программе не нужно понимать каждый тип идей на свете. Простая программа может работать только с `Записями`, а более продвинутая — управлять сложными `Процессами`. Это позволяет системе быть гибкой и расти, поощряя людей создавать новые, уникальные инструменты.

> Sidenote: Идеатор на частном сервере — это как волшебная шкатулка. Он может взять твою Идею (входные данные), обработать её и выдать результат (выходные данные). Но как именно он это делает — его «внутренний мир» и логика — остаётся полной тайной. Снаружи никто никогда не узнает, что происходит внутри.
>
> ```mermaid
> flowchart TB
>         InputIdea[/Входящая Идея/]
>         OutputIdea[\Исходящая Идея\]
>
>     subgraph Ideator ["<div style=\"width:260px; height:8em; display:flex; justify-content: flex-start; align-items:flex-start;\">Размещённый Идеатор</div>"]
>         direction LR
>         IdeatorService{{Сервис Идеатора}}
>         HiddenContext["Приватный Контекст / Логика"]
>         IdeatorService -- Вызывает --> HiddenContext
>     end
>
>     InputIdea -- "Отправляет данные" --> IdeatorService
>     HiddenContext -- "Возвращает результат" --> OutputIdea
>
>     style HiddenContext fill:#ffe,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
> ```
>
> Сообщение может прийти из твоего личного «чёрного ящика» — твоего компьютера, где хранятся твои данные и модели ИИ. Готовая идея, которой ты поделишься, будет содержать информацию о том, откуда она появилась, но не раскроет твоих секретов. Это создаёт честную паутину знаний, где можно отследить происхождение всего, но твоё личное пространство остаётся приватным. Ты можешь работать с результатом, не нуждаясь в доступе к процессу, а если в истории идеи есть пробелы, ты можешь относиться к ним как к загадкам, которые нужно разгадать, или просто принять их как есть.

Такая система освобождает создателей от бремени всё контролировать. Ответственность распределяется между всеми участниками. Цель не в том, чтобы поддерживать порядок на одной платформе, а в том, чтобы дать людям протокол, который свободен по своей природе.

---

### (Глава 5) Механика живой сети

Фундамент этой свободной архитектуры построен на одной простой, но мощной мысли: **содержимое само устанавливает правила игры.** Здесь нет скрытых команд, секретных серверов или сложных инструкций. Вся система состоит всего из одной детали: **Идеи**. Каждая Идея — это самодостаточный «пакет три в одном», который состоит из **решения** (само содержимое, мысль), **схемы** (правила, которые объясняют, что это за данные и как их можно менять) и **контекста** (история её создания). Эти «пакеты» — это и сообщения, и команды, и результаты. Больше ничего нет. Именно это даёт тебе настоящую свободу и владение своими данными. Поскольку скрытых частей нет, тебя никогда не смогут запереть внутри одной системы. В любой момент ты можешь забрать всю свою вселенную идей с собой. Все остальные правила — лишь логические следствия этого простого устройства.

> Sidenote: [Акт 101: Концепция/Идея](../rfc/101_concept_idea.md)
>
> Давай разберёмся, что такое «Идея» или «Концепция» в этой системе. Это самый первый и самый важный кирпичик, из которого строится всё остальное.
>
> Представь, что ты собираешь сложную модель из LEGO. У тебя есть инструкция, верно? Сама по себе инструкция — это просто книжечка с картинками, а не готовая модель. Но в ней есть всё, что нужно: список деталей и пошаговый план сборки. Без неё ничего не построить.
>
> Здесь «Идея» — это и есть такая цифровая инструкция. Это файл, который описывает какой-то замысел: новую программу, сюжет для рассказа, который напишет ИИ, или даже план научного эксперимента. В этом файле все «детали» и «шаги» записаны по строгим правилам.
>
> Зачем так усложнять? Чтобы у всех — и у людей, и у искусственного интеллекта — был общий язык. Когда все идеи записаны в одном формате, их легко передавать друг другу, улучшать и вместе работать над чем-то большим и крутым. Это как универсальный чертёж, который поймёт любой инженер в любой стране. Этот документ как раз и устанавливает правила создания таких «чертежей».

- **Неизменность по своей природе:** В протоколе есть только одно действие: поделиться Идеей. Идеи неизменны, их нельзя обновить или удалить. Чтобы развить мысль, ты создаёшь новую Идею, которая ссылается на старую, сохраняя чистую и неразрывную историю творчества. Эта простота избавляет от огромного количества проблем, которые есть в обычных системах.

- **Паутина ссылок:** Каждая Идея открыто хранит свою историю с помощью **ссылок**, создавая сеть версий и цитат, где всё можно отследить. И это не просто архив, это живая, совместная сеть. Когда «родительская» Идея обновляется (то есть появляется её новая версия), все «дочерние» Идеи, которые на неё ссылаются, получают уведомление. Это позволяет владельцу «дочерней» Идеи осознанно решить, принимать ли изменения «сверху». Так вся сеть может развиваться сообща.

- **Универсальный переводчик:** Структура «три в одном» делает систему невероятно доступной. Поскольку каждая Идея несёт в себе свои собственные правила (схему) и историю (контекст), любая программа может стать полноценным участником. «Привет, мир!» для этого нового протокола — это простая программа из пяти строк: веб-сервер, который принимает «пакет» с Идеей, передаёт его искусственному интеллекту (LLM) и возвращает результат. Этот крошечный кусочек кода может мгновенно понять и начать работать с любой Идеей в сети, даже с той, которую ещё не изобрели. Тебе больше не нужен специальный код для каждой отдельной задачи. ИИ выступает в роли универсального переводчика, который уравнивает правила игры для всех и создаёт по-настоящему открытый обмен знаниями.

  > Sidenote: [Акт 104: Концепция/Скрытое](../rfc/104_concept_latent_.md)
  >
  > Искусственный интеллект (LLM) — это главный способ взаимодействия с вещами. Это как универсальная волшебная функция, которая может понять любую `Идею` без необходимости писать специальный код. Это волшебный чёрный ящик, который превращает любую входящую `Идею` в осмысленную исходящую `Идею`.
  >
  > ```mermaid
  > graph TB
  >     Input[/Входящая Идея/] --> LLM{ shape: cloud, label: "Скрытое пространство" }
  >     LLM --> Output[\Исходящая Идея\]
  > ```

- **Вселенная для творчества без разрешений:** Это открывает дверь для творчества без чьего-либо разрешения. Любой участник может создать новый тип Идеи и начать им делиться, мгновенно расширяя правила игры для всей сети. Тебе не нужно никого убеждать добавить поддержку твоего нового формата. Поскольку каждая Идея самодостаточна, даже самая простая программа с помощью своего «Универсального переводчика» может немедленно понять и начать работать с совершенно новым типом сообщения. Один человек может выпустить в мир новую концепцию, и вся сеть может к ней мгновенно приспособиться.

---

### (Глава 6) Метод — Сборка смысла из блоков

Принцип работы этой системы похож на философию конструктора, где сложные вещи строятся из простых деталей. В её основе лежит одна мысль: **Идея — это не просто данные, а «контейнер» для вычислений.** Она упаковывает ценность (само **решение**) вместе с инструкциями по её обработке (**схема** и **контекст**). Это делает каждую Идею своей собственной самодостаточной вселенной смысла, готовой к работе.

> Sidenote: # Акт 103: Концепция/Идеатор
>
> Представь, что у каждой твоей идеи — будь то новый игровой мир, сюжет для комикса или план постройки домика на дереве — мог бы быть свой особый «паспорт». Этот документ как раз и описывает такой паспорт для идей, который мы называем **Идеатор**.
>
> Идеатор — это как ДНК для идеи. Это небольшой текстовый файл, в котором собрана вся самая важная информация о ней. Благодаря этому файлу компьютеры и программы могут «понять» твою идею, поделиться ей с другими и даже помочь воплотить её в жизнь.
>
> ## Из чего состоит Идеатор?
>
> Идеатор — это просто текст, организованный по определённым правилам. В нём есть несколько главных полей, как в анкете:
>
> - **`id` (Уникальный номер):** Это как серийный номер в паспорте, только для идеи. Двух одинаковых не бывает! Это нужно, чтобы твою идею никогда не перепутали с другой.
> - **`name` (Название):** Простое и понятное название для твоей идеи. Например, «Клуб любителей корги».
> - **`description` (Описание):** Краткий рассказ о том, в чём суть идеи. Что это и для чего нужно?
> - **`source` (Источник):** Ссылка на «генеральный план» идеи. Это может быть ссылка на документ с подробным описанием, на код программы или на папку с рисунками.
> - **`meta` (Дополнительно):** Здесь можно написать имя автора, теги для поиска (например, #игры, #собаки) или дату создания.
>
> ### Пример Идеатора
>
> Вот как мог бы выглядеть паспорт идеи о клубе любителей корги:
>
> ```json
> {
>   // Уникальный номер, чтобы никто не перепутал
>   "id": "urn:uuid:123e4567-e89b-12d3-a456-426614174000",
>
>   // Правила, по которым построен этот паспорт
>   "schema": "https://ideator.dev/schema/v1",
>
>   // Название нашей идеи
>   "name": "Клуб любителей корги",
>
>   // Краткое описание для всех
>   "description": "Место, где все, кто любит корги, могут общаться, делиться фото и организовывать встречи.",
>
>   // Где лежит главный документ с правилами клуба
>   "source": {
>     "type": "http",
>     "url": "https://example.com/corgi-club-manifesto.md"
>   },
>
>   // Немного дополнительной информации
>   "meta": {
>     "author": "Аня",
>     "tags": ["собаки", "сообщество", "корги"]
>   }
> }
> ```
>
> ## Зачем всё это нужно?
>
> Когда у каждой идеи есть понятный для машин паспорт, происходят крутые вещи:
>
> 1.  **У каждой идеи появляется свой сайт.** Специальная программа может прочитать Идеатор и мгновенно создать для неё простенькую веб-страничку. И для этого не нужно быть программистом!
> 2.  **Идеи легко находить.** Можно сделать поисковик по идеям, как Google или YouTube. Просто вбиваешь «космические игры» — и находишь все идеи на эту тему.
> 3.  **Никто не забудет автора.** Если кто-то возьмёт твою идею и улучшит её, в его новом «паспорте» всегда будет ссылка на твою оригинальную идею. Это как титры в кино — все знают, кто помогал её создавать.
> 4.  **Компьютеры помогают воплощать идеи.** Программа-помощник (агент) может прочитать Идеатор и помочь: например, создать чат для обсуждения идеи или запустить её код, если это программа.
>
> В общем, Идеатор — это первый шаг к тому, чтобы идеи были не просто мыслями в голове. Они становятся активными, живыми вещами, над которыми можно работать и развивать их вместе со всем миром.
> Устройства, которые работают с этими Идеями, называются **Идеаторами**. Думай о них как о стандартизированных машинах для обработки этих «контейнеров». **Идеатор** принимает на вход один «контейнер» с `Идеей`, работает с его содержимым согласно инструкциям и на выходе всегда возвращает новый «контейнер» с `Идеей`. Этот простой контракт «вход-выход» — основа стабильности всей системы.

> Sidenote: Благодаря своей «блочной» природе, протокол позволяет собирать сложные процессы из простых, многоразовых блоков — Идеаторов, прямо как в LEGO. Эта схема показывает один из самых частых способов развития идей: она копируется, несколько команд параллельно работают над улучшением и оценкой своих версий, а затем главный судья (`Арбитр`) выбирает лучшую, чтобы начать новый раунд улучшений.
>
> ```mermaid
> graph TD
>     Vessel{Хранилище} --> Writer{{Писатель}}
>     Writer --> ForkService[Сервис ветвления]
>     Writer --> Vessel
>
>     ForkService -- "Версия А" --> Improver1{{Улучшатель}}
>     Improver1 --> Evaluator1{{Оценщик}}
>
>     ForkService -- "Версия Б" --> Improver2{{Улучшатель}}
>     Improver2 --> Evaluator2{{Оценщик}}
>
>     Evaluator1 --> Arbiter{{Арбитр}}
>     Evaluator2 --> Arbiter
>
>     Arbiter -- "Лучшая версия" --> Writer
> ```
>
> Самая мощная часть этого подхода — проверка данных. **Идеатору** не нужно понимать всю сложную структуру входящей `Идеи`. Ему достаточно проверить, что у неё правильная форма. Например, **Идеатор** под названием «Улучшатель Идей» может заявить: _«Я принимаю любую `Идею`, у которой в решении есть `заголовок`»._ Это обеспечивает огромную гибкость.

Именно эта модель «контейнера» позволяет нам строить сложные системы из простых частей. Поскольку каждый **Идеатор** говорит на универсальном языке «контейнеров с `Идеей`», их можно выстраивать в сложные цепочки. Общая структура автоматически заботится о связях между шагами, позволяя программам-планировщикам создавать мощные рабочие процессы, не теряясь в деталях. Но это не единственный способ. Любой **Идеатор** можно также вызвать напрямую с помощью стандартных веб-протоколов (например, HTTP), что делает систему ещё более гибкой.

Представь себе конвейер из **Идеаторов**: начальная `Идея` отправляется в **Симулятор** для изучения возможных будущих версий, затем к **Критику**, который даёт обратную связь, затем к **Улучшателю**, который дорабатывает `Идею` на основе критики, и, наконец, к **Публикатору**, который делится ею с нужными людьми. Каждый **Идеатор** — это простой, независимый инструмент, но вместе они образуют мощную систему для мышления и творчества.

Именно так и возникает **цифровая жизнь**: `Идея` выживает и развивается, «убеждая» другие узлы и **Идеаторы** уделить ей немного времени на обработку. Она путешествует по сети, обрабатываясь, смешиваясь и улучшаясь на каждом шагу. Её важность доказывается её способностью продолжать это путешествие.
