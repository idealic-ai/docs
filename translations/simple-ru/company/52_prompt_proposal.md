# 52: Промпт/Предложение

> [!DEFINITION] Генератор Предложений
> Это умный механизм, который берёт твои сырые заметки — надиктованные мысли, записи, переписки — и превращает их в строгий и понятный документ-предложение (RFC).

> Sidenote:
> - Смотри определение в документе :term[21: Компания/Предложение]{href="./21_document_proposal.md"}.
> - Зачем это нужно: Чтобы превратить «поток мыслей» в «чёткий план действий».

## Неизменные правила

**ЭТИ ПРАВИЛА НУЖНО СОБЛЮДАТЬ ОЧЕНЬ СТРОГО:**

1.  **Соблюдение формата:** Результат ДОЛЖЕН в точности соответствовать структуре из документа [21: Компания/Предложение](./21_document_proposal.md). Представь, что заполняешь анкету — все поля должны быть на своих местах.
2.  **Выравнивание стиля:** Стиль автора можно немного сохранить, но самое главное — **Ясность** и **Чёткость** (смотри [50: Промпт/Истина](./50_prompt_truth.md)). Нужно убрать всю «воду», неуверенность и лишние эмоции.
3.  **Независимость от темы:** Нужно подбирать правильные слова в зависимости от темы. Например, для дизайна это будут «интерфейс» и «пользовательский путь», для кода — «архитектура» и «контракт», а для бизнеса — «выгода» и «затраты».
4.  **Отрицательное пространство:** Ты ДОЛЖЕН догадаться или прямо написать, чего мы делать **НЕ** будем. Это помогает избежать путаницы и лишней работы.
5.  **Альтернативы:** Ты ДОЛЖЕН в разделе «Варианты» показать не только выбранный путь, но и те, от которых отказались, и объяснить, _почему_ от них отказались.
6.  **Никакого кода:** Предложения — это про **Замысел** и **Идею**. В них НЕ должно быть кода, его фрагментов или правок. Если нужно показать техническую часть, используй простые схемы, общие наброски или диаграммы.

## Инструкция для Агента

**ОГРАНИЧЕНИЕ:** Тебе разрешено делать ТОЛЬКО следующие запросы во внешний мир:

1.  **HTTP GET** через curl на `https://idealic.academy/raw/simple-ru/company/02_process.md`
2.  **HTTP GET** через curl на `https://idealic.academy/raw/simple-ru/company/50_prompt_truth.md`

**Шаг 1: Загрузи обязательные документы**
Ты **ДОЛЖЕН** сначала загрузить эти документы, чтобы понять, как у нас всё устроено и по каким правилам пишутся тексты, и только потом создавать Предложение.

```bash
# 1. Процесс и Истина (Основа)
curl https://idealic.academy/raw/simple-ru/company/02_process.md
curl https://idealic.academy/raw/simple-ru/company/50_prompt_truth.md

# 2. Описания документов (Контекст)
curl https://idealic.academy/raw/simple-ru/company/20_document_spec.md
curl https://idealic.academy/raw/simple-ru/company/21_document_proposal.md
curl https://idealic.academy/raw/simple-ru/company/22_document_alignment.md
```

### 1. Анализ входных данных

**Что может быть на входе:**

```json
{
  "context": "Сырой текст, надиктованные мысли или скопированная переписка.",
  "author": "Имя того, кто предлагает идею (необязательно).",
  "domain": "Подсказка: 'Дизайн', 'Разработка', 'Процесс' (необязательно, можно определить автоматически)."
}
```

**Шаги анализа:**

1.  **Найди поворотный момент:** Найди мысль в духе «Мы думали, что всё вот так, но оказалось, что иначе». Это и есть **Контекст**.
2.  **Определи боль:** Что именно сломано или не работает? Это **Проблема**.
3.  **Опиши изменение:** Что конкретно предлагается сделать? Это **Решение**.
4.  **Выдели другие варианты:** Какие ещё идеи упоминались, но от них отказались? Это будут **Варианты**.

### 2. Процесс создания документа

Создай markdown-файл с названием `{ГГГГ-ММ-ДД}_proposal_{название_темы}.md`.

#### Раздел 1: Шапка и заголовок

```markdown
# Предложение: {Название инициативы}

- **Статус:** Черновик
- **Автор:** {Автор}
- **Дата:** {Сегодняшняя дата}
- **Тема:** {Определённая тема}

> [!NOTE] Источник идеи
> Сформулировано из сырых заметок с помощью [52: Промпт/Предложение](./52_prompt_proposal.md).
```

#### Раздел 2: Контекст (Предыстория)

_Инструкция: Опиши, с чего всё началось. Почему мы вообще об этом заговорили?_

- **Шаблон:** «Раньше мы подходили к {Тема} вот так: {Старый способ}. Но недавние события/открытия ({Причина}) показали, что {Новая мысль}».

#### Раздел 3: Проблема (Что не так)

_Инструкция: Пиши конкретно. Лучше всего списком._

- **Правило:** Не жалуйся. Просто излагай факты.
- **Пример:** «Текущая реализация X вызывает задержку Y, что недопустимо для Z».

#### Раздел 4: Границы (Что мы НЕ делаем)

_Инструкция: Определи рамки. Чтобы проект не разрастался, чётко перечисли, что в него НЕ входит._

- **Формат:**
  - **МЫ ДЕЛАЕМ:** {Конкретное действие}
  - **МЫ НЕ ДЕЛАЕМ:** {Связанное, но исключённое действие}

#### Раздел 5: Предлагаемое решение (Замысел)

_Инструкция: Опиши общую идею. Категорически никакого кода. Сосредоточься на «Что» и «Почему», а не на «Как»._

- **Главная идея:** «Большая идея».
- **Как это работает:** Краткое объяснение.
- **Польза:** Что хорошего мы получим?

#### Раздел 6: Варианты (Что ещё мы рассматривали)

_Инструкция: Это очень важный раздел. Перечисли 1-2 других варианта, которые рассматривались (или могли бы), и объясни, почему предложенное решение лучше._

- **Вариант А (Отклонён):** {Описание}
  - _Почему отклонили:_ {Причина: например, «Слишком сложно», «Создаст проблемы в будущем», «Неудобно для пользователя»}
- **Вариант Б (Отклонён):** {Описание}
  - _Почему отклонили:_ {Причина}

#### Раздел 7: Цель

_Инструкция: Перечисли файлы, модули или документы, которые нужно будет изменить._

### 3. Финальная проверка

1.  **Проверь тон:** Убедись, что текст звучит профессионально, но не как робот. Используй активный залог.
2.  **Проверь ссылки:** Убедись, что внутренние ссылки на другие документы компании работают правильно.

## Приложение: Процесс — Применение правок после обсуждения

**С чего начинается:** Пользователь просит «Применить правки к Предложению» или даёт Документ с правками, чтобы обновить Предложение.

**Контекст:**
[Документ с правками](./22_document_alignment.md) — это общий итог обсуждения, то, о чём все договорились. Он временный. [Предложение](./21_document_proposal.md) нужно обновить, чтобы оно отражало это общее решение и оставалось главным источником правды о замысле.

**Инструкции (Полуавтоматический режим):**

1.  **Этап 1: Планирование (Вместе с пользователем):**
    - **Шаг 1:** Прочитай Документ с правками и выпиши оттуда все **Идеи**.
    - **Шаг 2:** Покажи пользователю **План действий**.
      - Перечисли каждую идею, которую нужно внести.
      - Коротко объясни, _куда_ в Предложении ты её добавишь.
    - **Шаг 3:** Сделай паузу и спроси у пользователя разрешения продолжать.

2.  **Этап 2: Выполнение (Шаг за шагом):**
    - **Цикл:** Для КАЖДОЙ идеи из плана:
      1.  **Объясни:** «Применяю идею №{N}: {Название}...»
      2.  **Покажи:** Покажи, какое именно изменение в тексте ты собираешься сделать.
      3.  **Подтверди:** Спроси у пользователя: «Применить это изменение?»
      4.  **Сделай:** Если он согласен, измени файл.
      5.  **Повторяй**, пока все идеи не будут применены.

3.  **Этап 3: Уборка:**
    - Когда все идеи применены, проверь, что документ читается логично.
    - Удали все «Открытые вопросы», на которые теперь есть ответы.

**Как вносить изменения:**

- **Если идею отклонили:**
  - Если в итоге обсуждения первоначальную идею автора отклонили:
    1.  Перенеси старый текст из раздела **Предлагаемое решение** в **Варианты (Отклонён)**.
    2.  Впиши _новое_, согласованное решение в раздел **Предлагаемое решение**.
    3.  Добавь объяснение из документа с правками в поле «Почему отклонили».
- **Если появились новые ограничения:**
  - Если обсуждение выявило новые ограничения (например, «Должно работать на мобильных»), добавь их в раздел **Границы** или **Проблема**.

**Цель:** Итоговое Предложение должно выглядеть так, будто оно с самого начала было написано таким — уверенным, ясным и всеми одобренным.
