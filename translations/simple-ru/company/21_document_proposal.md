# 21: Компания/Предложение

> [!DEFINITION] Документ-предложение
> Это временный документ, в котором мы описываем идею: что-то изменить, улучшить или добавить, — прежде чем начнём это делать.
>
> Sidenote:
> - Часть: :term[02: Компания/Процесс]{href="./02_process.md"}
> - Следующий шаг: :term[22: Компания/Согласование]{href="./22_document_alignment.md"}
> - Раньше назывался: Документ о намерениях, Документ об эволюции

## 1. Главная идея

Документ-предложение — это, по сути, записка для всех с просьбой высказать своё мнение (в мире программистов это называется RFC, Request for Comments). Мы пишем его **один раз** для каждой новой задумки, чтобы показать, что хотим что-то поменять. Он нужен, потому что мы не можем сразу написать подробную инструкцию для большой задачи. Сначала нужно разбить её на маленькие шаги. Одно Предложение — это примерно **один большой шаг** в работе.

Этот документ **сохраняется навсегда**. Он становится исторической записью о том, почему мы решили что-то изменить, и главным **источником правды о нашем первоначальном замысле**.

## 2. Зачем он нужен

Почему бы просто не начать писать код, вместо того чтобы составлять Предложение?

- **Чтобы не бояться «чистого листа»:** Нельзя заставить компьютер угадать, что у тебя в голове. Предложение помогает вытащить мысли из головы и перенести их на бумагу. **Диктовка** — лучший способ побороть ступор и создать первую версию текста.
- **Источник задач:** Из этого документа потом рождаются конкретные задачки для программистов. Так мы уверены, что работа разбита на очень маленькие, понятные кусочки (например, такие, которые можно сделать за один день).
- **Разделение «что» и «как»:** Документ отделяет то, **что** мы хотим получить, от того, **как** мы будем это делать. Это позволяет нам обсудить, хороша ли сама идея, не увязая в спорах о коде.
- **Безопасное исследование:** Мы можем предлагать самые смелые идеи, не боясь что-то сломать. Если Предложение не примут, мы просто потеряем один текстовый файл, и всё.
- **Контекст для машины:** Искусственному интеллекту нужна точная информация, чтобы помочь. Этот документ — как подробная инструкция для него (и для всей команды).

## 3. Структура (Шаблон)

У Предложения есть чёткая структура, как у рассказа. Она помогает проверить, что наша идея логична и безопасна. Разделы ниже — это стандарт, но их можно менять, если это поможет лучше донести мысль.

### 3.1. Контекст (Как мы к этому пришли)

_Формула рассказа:_ «Мы думали X, но узнали Y, поэтому должны сделать Z».

1.  **Первоначальная мысль:** Во что мы верили раньше?
2.  **Поворотный момент (Открытие):** Что изменилось? (Нашли ошибку, появилось новое требование, пришла гениальная мысль).
3.  **Вывод:** Почему изменения нужны именно сейчас?

### 3.2. Проблема (Что послужило толчком)

1.  **Проблема:** Точное и ясное описание того, что сломано или чего не хватает.
2.  **Почему сейчас:** Что будет, если ничего не делать.

### 3.3. Границы (Наш договор)

1.  **Что нельзя менять:** Что должно остаться неизменным? (Скорость работы, совместимость и т.д.)
2.  **Что мы НЕ делаем:** Чёткий список того, чего мы делать **не** будем.
3.  **Сравнение:** Таблица «До и после».

### 3.4. Намерения (Отдельные изменения)

**Это сердце документа.** Здесь мы раскладываем решение на очень маленькие, независимые шаги.

_Формат для каждого намерения:_

- **Название:** Краткое и ясное.
- **Тип:** {Исправление ошибки / Новая функция / Уборка / Рефакторинг}
- **Цель:** {Модуль / Файл / Компонент}
- **Обоснование:** Почему нужно именно это изменение (немного истории).
- **Логика/Схема:** Упрощённое описание изменения (псевдокод, описание логики). **Никакого настоящего кода.**

### 3.5. Схема (Необязательно)

_Рекомендуется:_ **Диаграмма Mermaid**, которая показывает, как всё будет работать. Используйте её, если словами сложно объяснить.

### 3.6. Примеры использования (Необязательно)

_Рекомендуется:_ Конкретные примеры того, как новой системой будут _пользоваться_. Это доказывает, что дизайн удобен.

### 3.7. Безопасность и риски (Необязательно)

1.  **Риски:** Что может пойти не так?
2.  **Как предотвратить:** Что мы сделаем, чтобы этого не случилось?
3.  **Что нельзя нарушать:** Какие правила должны соблюдаться (например, «Скорость работы не должна упасть ниже X»).

### 3.8. Критерии завершения

Список шагов для проверки (тесты, документация, интеграция), который определяет, когда работа считается «готовой».

### 3.9. Рассмотренные варианты

Другие идеи, от которых мы отказались, и _почему_.

---

> [!NOTE] Если чего-то не хватает
> Если вы создаёте предложение на основе диктовки или у вас мало информации, можно помечать разделы как `(Будет дополнено)` или `(Заглушка)`. Структура служит ориентиром, показывая, что нам нужно узнать, даже если мы этого пока не знаем.

## 4. Жизненный цикл

1.  **Черновик:** Автор создаёт его с помощью диктовки или просит помощи у ИИ.
2.  **На проверку:** Отправляется как запрос на изменение (Pull Request).
3.  **Обсуждение:** Команда обсуждает идею.
4.  **Согласие:** Создаётся и проверяется :term[документ о согласовании]{href="./22_document_alignment.md"}.
5.  **Правки:** Предложение обновляется в соответствии с общим решением.
6.  **Заморозка:** Предложение помечается как «Принято» и больше не меняется.
7.  **Выполнение:** На основе Предложения обновляется главная инструкция (Спецификация).
8.  **Архив:** Сохраняется в истории.

## 5. Характеристики

- **Сроки:** Создаётся примерно за 1 день.
- **Обновления:** Пишется один раз, чтобы зафиксировать идею.
- **Характер:** Исторический, сохраняется навсегда.
- **Источник правды:** О том, **что мы хотели сделать**.
- **Аналогия:** Просьба высказать мнение / Один большой шаг.
