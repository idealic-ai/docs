# 21: Компания/Предложение

> [!DEFINITION] Документ-предложение
> Это такой временный документ, как черновик. В нём мы описываем, что хотим изменить, улучшить или добавить, прежде чем начнём что-то делать.
>
> Sidenote:
> - Часть документа: :term[02: Компания/Процесс]{href="./02_process.md"}
> - Следующий документ: :term[22: Компания/Синхронизация]{href="./22_document_alignment.md"}
> - Раньше назывался: Документ о намерениях, Документ об эволюции

## 1. Основная идея

Документ-предложение — это, по сути, просьба высказать своё мнение (по-английски это называется RFC, Request for Comments). Мы пишем его один раз для каждой новой идеи, чтобы показать: «Эй, мы хотим что-то поменять!». Он нужен потому, что мы не можем сразу написать подробную инструкцию (Спецификацию). Сначала нужно разбить большую задачу на маленькие шаги. Одно Предложение — это примерно один «Акт» работы.

Этот документ сохраняется навсегда. Он становится частью истории, которая показывает, как менялись наши планы. Это главный документ, который объясняет, «почему» мы что-то сделали.

## 2. Зачем это нужно

Почему мы сначала пишем предложение, а не сразу начинаем программировать?

- **Преодоление «чистого листа»:** Нельзя заставить компьютер угадать, что у нас в голове. Предложение помогает вытащить наши мысли и идеи наружу. Самый простой способ начать — это просто надиктовать свои мысли вслух. Это помогает побороть страх «чистого листа» и получить первую версию.
- **Источник для задач:** Из этого документа, как из семечка, вырастают конкретные задачи для программистов. Он помогает убедиться, что работа разбита на очень маленькие, понятные кусочки (например, задачи на один день).
- **Разделение «что» и «как»:** Он разделяет «Что мы хотим сделать?» от «Как мы будем это делать?». Это позволяет нам обсудить саму идею и её пользу, не увязая в спорах о коде.
- **Безопасное исследование:** Предложение позволяет нам предлагать даже самые смелые изменения, ничего не ломая. Если идея окажется плохой и её отклонят, мы потеряем всего лишь один текстовый файл, и ничего страшного не случится.
- **Контекст для машины:** Искусственному интеллекту нужен точный контекст, чтобы нас понять. Этот документ — как подробная инструкция или «задание» для ИИ (и для всей команды тоже).

## 3. Структура (Шаблон)

У Предложения есть чёткая структура, похожая на рассказ. Она помогает проверить, что наша идея логична и безопасна. Разделы ниже — это стандарт, но их можно менять, если это поможет лучше донести мысль.

### 3.1. Контекст (Как мы к этому пришли)

_Схема повествования:_ «Мы думали X, но потом узнали Y, поэтому теперь должны сделать Z».

1.  **Первоначальная мысль:** Во что мы верили раньше?
2.  **Поворотный момент (Что мы узнали):** Что изменилось? (Нашли ошибку, появилось новое требование, пришла гениальная мысль).
3.  **Вывод:** Почему изменения нужны прямо сейчас?

### 3.2. Проблема и рамки (Что именно делаем)

1.  **Проблема:** Чёткое описание того, что сломано, которое можно проверить.
2.  **Что мы НЕ делаем:** Список того, чего мы делать не будем. Это важно, чтобы не раздувать задачу.
3.  **Сравнение:** Таблица «До и после», чтобы наглядно показать разницу.

### 3.3. Намерения (Конкретные шаги)

**Это самая важная часть.** Здесь мы разбиваем решение на мельчайшие, независимые шаги.

_Формат для каждого шага:_

- **Название:** Короткое и понятное.
- **Тип:** {Исправление ошибки / Новая функция / Уборка / Переделка}
- **Где меняем:** {Модуль / Файл / Компонент}
- **Обоснование:** Почему нужен именно этот шаг (немного истории).
- **Логика изменения:** Это не настоящий код, а как бы его набросок (псевдокод, описание или схема). Настоящий код здесь не пишем.

### 3.4. Схема (Не обязательно)

_Совет:_ Если словами сложно объяснить, нарисуйте схему (мы используем **Mermaid**). Она может показать, как всё работает, какие есть состояния или как части системы общаются друг с другом.

### 3.5. Примеры использования (Не обязательно)

_Совет:_ Покажите на конкретных примерах, как люди будут пользоваться новой функцией. Это докажет, что ваше решение удобное.

### 3.6. Безопасность и риски (Не обязательно)

1.  **Риски:** Что может пойти не так?
2.  **Как мы это предотвратим?**
3.  **Что должно остаться неизменным?** (например, «Скорость работы не должна упасть»).

### 3.7. Когда считать, что всё готово?

Список шагов для проверки (тесты, документация, интеграция), который поможет понять, что работа действительно закончена.

### 3.8. Какие ещё были варианты

Другие идеи, от которых мы отказались, и объяснение, почему.

---

> [!NOTE] Если всё готово не сразу
> Если вы только надиктовали идею или у вас мало информации, можно просто пометить некоторые разделы как «(будет дополнено)» или «(здесь нужно дописать)». Структура просто подсказывает, о чём нужно подумать, даже если ответы появятся позже.

## 4. Жизненный цикл

1.  **Черновик:** Автор создаёт его, надиктовывая мысли или с помощью ИИ.
2.  **Запрос на добавление (Pull Request):** Отправляется на проверку команде.
3.  **Обсуждение:** Команда обсуждает идею.
4.  **Доработка:** Автор обновляет документ после обсуждения (об этом подробнее в документе :term[22: Компания/Синхронизация]{href="./22_document_alignment.md"}).
5.  **Устаревание:** Сохраняется в архиве, а на его место приходит подробная Спецификация.

## 5. Ключевые черты

- **Срок создания:** примерно 1 день.
- **Обновления:** Пишется один раз, чтобы зафиксировать идею.
- **Статус:** Сохраняется в архиве.
- **Главный документ:** Для понимания «почему».
- **Аналогия:** Просьба высказаться / Один «Акт» работы.
