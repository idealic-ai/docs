# 007: Агент/Ввод

> **Входное Сообщение:** Это сообщение, которое содержит «правила» (`schema`) и сами «данные» (`input`). Оно объясняет, какую информацию ожидает получить [Запрос](./001_agent_request.md), и превращает его в многоразовый инструмент, похожий на функцию в программировании. — [Словарь](./000_glossary.md)

> Sidenote:
> - Требуется: [001: Агент/Запрос](./001_agent_request.md)
> - Открывает возможности для: [002: Агент/Инструмент](./002_agent_tool.md)

Этот документ рассказывает о **Входном Сообщении**. Это особый вид сообщения, который служит как бы инструкцией для [Агента/Запроса (001)](./001_agent_request.md). Когда мы чётко описываем, какие данные нужны Запросу для создания его `решения`, Запрос превращается из одноразовой команды в многоразовый инструмент, похожий на функцию. Это главный секрет превращения простого `Запроса` в `Инструмент`, которым могут пользоваться другие агенты.

> [!TIP]
> Сохранённый и повторяемый **Запрос** в нашей системе называется **[Идеей (101)](./101_concept_idea.md)**. А когда к нему добавляется `Входное сообщение`, он становится исполняемым **[Идеатором (103)](./103_concept_ideator.md)**.

## Тип сообщения «Ввод»

`Входное сообщение` — это специальное сообщение, созданное для того, чтобы официально объявить, какие данные принимает `Запрос`. Оно как дневник, который записывает, какие именно данные были использованы для получения конкретного `решения`. Благодаря этому весь процесс становится полностью прозрачным и повторяемым.

У `Входного сообщения` есть два ключевых элемента:

1.  **`schema` (схема)**: Это как чертёж или набор правил (в формате JSON Schema), который описывает, как должны выглядеть данные, которые ожидает `Запрос`.
2.  **`input` (ввод)**: Это уже конкретные данные, которые соответствуют правилам из `схемы` и используются для одного конкретного запуска.

Описывая свои входные данные таким образом, любой `Запрос` может рассказать не только о том, что он создаёт (`решение` и его `схема`), но и о том, что ему для этого нужно. Это и есть главный механизм для создания воспроизводимых запросов.

## Путь к простоте: Интерфейс по умолчанию

`Входное сообщение` — это не просто техническая деталь. Это ключ, который открывает дверь в мир интерактивности для любого `Запроса`. Поскольку у `Запроса` есть чёткие правила (`схемы`) и для входа, и для выхода, система может автоматически создать для него пользовательский интерфейс.

> Sidenote:
> - [103: Концепция/Идеатор](./103_concept_ideator.md).

Этот интерфейс состоит из двух частей:

1.  **Форма для ввода**: `Схема` из `Входного сообщения` служит чертежом для создания формы. Система читает её и мгновенно рисует поля для ввода, кнопки и другие элементы, даже с подсказками и проверкой ошибок.
2.  **Окно для результата**: Основная `схема` `Запроса` служит чертежом для отображения результата. Когда `Запрос` выполнен, его `решение` показывается не просто как скучный текст, а в красивом и понятном виде.

Это превращает любой `Запрос` в интерактивную песочницу. Пользователь может экспериментировать с разными данными в форме и сразу видеть, как меняется результат. Так мы делаем мощные инструменты доступными для всех, превращая сложные процессы в понятные и увлекательные приложения, которые каждый может исследовать.

> Sidenote:
> - [102: Концепция/Суверенитет](./102_concept_sovereignty.md).

## Взаимодействие с другими частями системы

`Входное сообщение` — это простой, но очень мощный элемент, особенно когда он работает вместе с другими частями системы. Он служит мостиком между сырыми данными, многоразовыми инструментами и сложными, многошаговыми процессами.

- **Структурированные данные**: `Входное сообщение` — это конкретный пример того, как применять принципы из документа [006: Агент/Данные](./006_agent_data.md). Оно гарантирует, что информация, передаваемая в `Запрос`, будет чётко определена и проверена.

  > Sidenote:
  > - [006: Агент/Данные](./006_agent_data.md).

- **От Запроса к многоразовому Инструменту**: `Входное сообщение` — это ключ к превращению `Запроса` в многоразовый [002: Агент/Инструмент](./002_agent_tool.md). Этот процесс работает так:

  > Sidenote:
  > - [002: Агент/Инструмент](./002_agent_tool.md).
  1. `Схема` из **`Входного сообщения`** становится **параметрами** `Инструмента`. Она описывает, что нужно `Инструменту` для работы.
  2. Основная `схема` самого **`Запроса`** становится **`_output` (выходными данными)** `Инструмента`. Она описывает, что `Инструмент` должен создать в результате.

  Это позволяет создавать новые `Инструменты` прямо на лету. Добавив структурированный `Ввод` к существующему `Запросу`, вы создаёте для него понятный интерфейс, делая его готовым компонентом для других агентов.

- **Инстансинг (создание экземпляров)**: При использовании вместе с протоколом [011: Агент/Инстансинг](./011_agent_instancing.md), `Входные сообщения` могут предоставлять данные для запросов, создающих множество экземпляров. Это могут быть как общие настройки для всех, так и уникальные данные для каждого конкретного экземпляра.
  > Sidenote:
  > - [011: Агент/Инстансинг](./011_agent_instancing.md).

## Предоставление контекста для Инструментов

Хотя `Входное сообщение` напрямую передаёт `Инструменту` его параметры, ему часто нужен доступ и к более широкому контексту, в котором он работает, например, к текущему `Состоянию` или другим данным. Протокол **Импортов** как раз и контролирует, что `Инструмент` может «видеть» и использовать из этого окружения. Он позволяет `Инструменту` получать целые объекты как контекст, а не только отдельные параметры.

Следующий документ, [008: Агент/Импорты](./008_agent_imports.md), описывает, как `Инструмент` может запрашивать и получать такую контекстную информацию.
