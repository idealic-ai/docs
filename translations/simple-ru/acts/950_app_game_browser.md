# 950: Приложение/Игровой Браузер

> [!DEFINITION] [Игровой Браузер](./000_glossary.md)
> Это как центр управления для игровых миров. Он позволяет в реальном времени следить за играми, видеть, что происходит за столами, и управлять компьютерными игроками (ИИ). Это универсальный «просмотрщик», который может подключиться к любому источнику данных, если тот работает по стандартным правилам.

> Sidenote:
> - На чём основано:
>   - :term[850: Пакет/Игровой Сервис]{href="./850_package_game_service.md" canonical="Package/Game Service"}
> - Что использует:
>   - :term[852: Пакет/Интерфейс для Покера]{href="./852_package_poker_ui.md" canonical="Package/Poker UI"}

**Игровой Браузер** — это приложение, которое выполняет две разные, но связанные роли. Первая — **«Диспетчерская вышка»**, чтобы управлять живыми играми и ботами. Вторая — **«Машина времени»**, чтобы анализировать прошедшие игры и загружать данные о старых партиях.

В отличие от обычных игровых программ, которые привязаны к одному конкретному серверу, Игровой Браузер — это универсальный «просмотрщик». Он может подключиться к любой системе, которая передаёт данные в стандартном формате `Engine.State`. Ему неважно, откуда идёт информация: из прямой трансляции, специального интернет-запроса или просто из текстового файла с записями.

## Главный принцип: Игры важнее Столов

Одно из главных правил, по которому построено это приложение, — это особый взгляд на то, что такое «игровой стол».

- **Никакой синхронизации столов**: Мы не считаем «столы» чем-то главным, что нужно постоянно сверять между системами. Это избавляет от сложных проблем, которые часто возникают при управлении игровым лобби.
- **Столы — это поток игр**: Вместо этого «стол» для нас — это просто последовательность состояний игры, как кадры в фильме. Если у нас есть записи всех игр, значит, у нас есть и стол.
- **Состояние вычисляется, а не хранится**: Собирая только информацию об _играх_ (самых маленьких частичках игрового процесса), система может сама точно восстановить всю картину: какие столы активны, кто где сидит и сколько у кого фишек. Для этого не нужен отдельный «сервис лобби».

## Возможности

### 1. Просмотр игр в реальном времени

Приложение даёт вам «режим бога», позволяя заглянуть в любую подключённую игровую площадку:

- **Прямой эфир**: Смотрите, как разворачиваются игры, в реальном времени и без задержек (если позволяет источник данных).
- **Обзор нескольких столов**: Следите за множеством столов одновременно, чтобы замечать интересные моменты, проблемы или игры с высокими ставками.
- **Восстановление сессии**: Легко просматривайте историю стола. Так как столы — это просто поток игр, «отмотать» время назад так же просто, как пролистать историю в чате.

### 2. Приём любых данных

Игровому Браузеру всё равно, откуда приходят данные. Он просто «экран», который умеет показывать всё, что записано в стандартном формате `Engine.State`.

- **Подключение других систем**: Может получать данные из внешних игровых систем, объединяя разные платформы в одном окне.
- **Воспроизведение из логов**: Умеет читать и «проигрывать» обычные текстовые файлы с записями игр (например, историю рук из PokerStars). Так скучные записи превращаются в интерактивный повтор, который можно смотреть.
- **Смешанный режим**: Может одновременно показывать живые игры с нашего сервера и исторические игры из загруженного файла.

### 3. Сборная аналитика

Поскольку система видит мир как набор отдельных игр, статистика собирается очень просто — путём сложения этих маленьких «кирпичиков».

- **Статистика по игрокам**: Когда игроки играют за разными столами, система собирает все их результаты (например, как часто они ставят или выигрывают) в один общий профиль.
- **«Здоровье» площадки**: Анализируйте, насколько заняты столы, сколько рук играется в час и как движутся деньги, собирая данные со всех игр.
- **Расчёт по запросу**: Статистику можно посчитать для уже загруженных старых данных, что позволяет глубоко изучать прошлые игры.

### 4. Панель управления ИИ

Кроме простого наблюдения, Игровой Браузер — это главный пульт управления для искусственного интеллекта.

- **Управление ботами**: Следите за «здоровьем», деньгами и состоянием компьютерных игроков.
- **Проверка решений**: (Если разрешено) Можно заглянуть «в голову» ИИ и посмотреть, как он рассуждал во время раздачи.
- **Вмешательство**: Есть кнопки, чтобы поставить бота на паузу, остановить его или изменить его настройки прямо во время игры.

## Архитектура и расширяемость

Игровой Браузер создан так, чтобы быть **независимым от конкретной игры**.

- **Подключаемые «Отрисовщики»**: Сейчас программа лучше всего работает с покером (Холдем/Шорт-дек) с помощью :term[интерфейса для покера]{href="./852_package_poker_ui.md" canonical="Poker UI"}. Но, если в данных указан другой тип игры, она может загрузить другой «отрисовщик». Так на одном экране можно одновременно следить за покером, блэк-джеком и рулеткой.
- **Гибкие режимы работы**: Приложение можно запускать по-разному:
- **Отдельная программа**: Как обычное приложение на компьютере для тех, кто управляет играми.
- **Встроенный виджет**: Как маленькое окошко внутри большой админ-панели казино.
- **Публичный наблюдатель**: В урезанном виде, чтобы зрители могли следить за игрой (например, на турнире).
