# 203: Идея/Процесс

> [!DEFINITION] [Идея-Процесс](./000_glossary.md)
> Это самостоятельная [Идея](./101_concept_idea.md), которая содержит в себе стратегический [План](./010_agent_plan.md) и его текущее состояние. Её `schema` — это набор [Инструментов](./002_agent_tool.md), её `solution` — это *новый* `План` на следующий шаг, а её `context` содержит `Исходную задачу`, `Состояние` и предыдущий `План`.

__SIDENOTE_PLACEHOLDERNil__

Если [Идея-Носитель (202: Идея/Носитель)](./202_idea_vessel.md) — это отдельное простое решение, то **Идея-Процесс** — это целый проект или пошаговая стратегия. Представь её как подробный рецепт сложного блюда, который не только описывает шаги, но и отслеживает, на каком этапе готовки ты сейчас находишься. Это полный отчёт обо всех возможностях (инструментах) и конкретной стратегии, которую выбрал искусственный интеллект (ИИ).

## Из чего состоит План

Идея-Процесс использует три части «Идеи», чтобы создать полный снимок всего рабочего процесса. Этот снимок содержит не только стратегию, которую выбрал ИИ (`План`), но и весь набор его возможностей и текущее состояние дел.

- **`schema` (Палитра):** Это как ящик со всеми доступными инструментами. `План` можно составить только из того, что есть в этом ящике. Здесь описаны все способности ИИ.

- **`context` (Что происходит сейчас):** Здесь хранится вся информация, которая нужна ИИ, чтобы спланировать и выполнить следующий шаг.
  - **Исходное сообщение:** Это самая первая задача, которая запустила весь процесс. Обычно она даётся один раз и больше не меняется.

    > Sidenote:
    > - [007: Агент/Входные данные](./007_agent_input.md)

  - **Сообщение о состоянии:** Это «живые» данные о том, как идут дела. Здесь хранятся все промежуточные результаты, которые связывают разные шаги `Плана` между собой. Представь, что это записки «на полях», которые помогают помнить, что уже сделано.

    > Sidenote:
    > - [009: Агент/Состояние](./009_agent_state.md)

  - **Сообщение о плане:** Здесь содержится `План` с предыдущего шага. ИИ может либо следовать ему дальше, либо изменить его, если что-то пошло не так.

    > Sidenote:
    > - [010: Агент/План](./010_agent_plan.md)

- **`solution` (Новый План):** Это карта шагов, которую ИИ составил на *текущий* момент. Именно она станет `Планом` для следующего шага.

### Единство планирования и выполнения

Главный принцип этой системы: планирование и выполнение — это одно и то же. В обычных системах ты сначала составляешь план, а потом отдельно его выполняешь. Здесь всё происходит одновременно, на каждом шагу. Когда ИИ создаёт `solution` (новый `План`), он не просто думает, что делать дальше, — он уже *делает* следующий шаг.

Благодаря этому система очень быстрая и гибкая. `План` — это живая схема, которой не обязательно быть законченной, чтобы работать. Она может быть частичной и меняться на лету. Команды, которые создаёт ИИ, — это одновременно и структура плана, и сами действия. ИИ за один раз проверяет, всё ли в порядке, корректирует план и выполняет следующий шаг. Не нужно тратить время на отдельное перепланирование — всё происходит сразу.

> Sidenote:
> - [004: Агент/Вызов](./004_agent_call.md)

Такой подход даёт два больших преимущества.

1.  **План можно «проиграть» в уме.** ИИ может представить, как будет работать каждый шаг, ещё до того, как получит реальные данные. Это позволяет придумывать и проверять сложные процессы с самого начала.
2.  **ИИ — умный переходник.** Если результат одного шага не совсем подходит для следующего, ИИ может сам «додумать» и исправить данные. Система становится очень надёжной и не ломается от мелких нестыковок, как это бывает в обычных программах.

> Sidenote:
> - [105: Концепция/ИИ-центричность](./105_concept_ai_native.md)

### План может быть гибким или строгим

Благодаря `Состоянию` `План` может развиваться, проходя три этапа: от свободного творчества до чёткого и предсказуемого алгоритма.

> Sidenote:
> - [009: Агент/Состояние](./009_agent_state.md)

1.  **Свободный План:** Вначале `Состояние` можно не описывать строгими правилами. Это даёт ИИ полную свободу, чтобы придумывать план и создавать новые связи между шагами прямо на ходу.

2.  **План с заданными связями:** Когда основной маршрут найден, можно «заморозить» схему `Состояния`, то есть определить главные пути для данных. Это можно сделать по-разному:
    - **Открытые связи:** Разрешить ИИ создавать новые, неосновные связи. Главный путь будет чётким, но для редких случаев останется свобода действий.
    - **Закрытые связи:** Запретить любые отклонения. ИИ должен будет строго следовать заданной структуре.

3.  **Завершённый План:** Это финальная стадия, когда план считается зрелым и предсказуемым. Именно такой `План` передаётся на следующий шаг для выполнения. Он бывает двух видов:
    - **«Счастливый» План:** Описывает идеальный сценарий. Он очень эффективен, но может потребовать корректировки, если что-то пойдёт не так.
    - **Полный План:** Со временем в него добавляют решения для частых ошибок и альтернативные пути. Такой план становится очень надёжным и работает почти без сбоев.

Такое развитие позволяет превратить гибкую идею в надёжный и многоразовый инструмент.

## Неизменные процессы: управление, анализ и масштаб

Сила Идеи-Процесса в её неизменности. Каждый шаг создаёт новый полный «снимок» `Плана` и `Состояния`, сохраняя идеальную историю всего, что происходило. Этот принцип — создание цепочки неизменных записей — позволяет системе управлять сложными задачами, анализировать их и легко масштабироваться.

- **Надёжное и гибкое выполнение:** Процесс, идущий по шагам, очень надёжен, потому что каждый новый шаг начинается с полного снимка предыдущего состояния. Это как в игре с автосохранениями: ты всегда можешь отталкиваться от стабильной точки. Результат каждого шага — это новая Идея-Процесс, которая безопасно двигает задачу вперёд.

  > Sidenote:
  > - [005: Агент/Цикл](./005_agent_loop.md)
  > - [010: Агент/План](./010_agent_plan.md)

- **Устойчивое управление:** Идея-Процесс — это самодостаточный «файл». Благодаря этому управлять задачами очень просто. Процесс можно поставить на паузу, просто сохранив его последний снимок. Внешние системы или человек могут изучить это замороженное состояние и принять решение. Любые изменения (например, смена плана) создают *новую* Идею-Процесс, что позволяет безопасно продолжить работу, не меняя историю.

  > Sidenote:
  > - [009: Агент/Состояние](./009_agent_state.md)

- **Точное моделирование:** Эта архитектура позволяет путешествовать во времени. Каждая прошедшая Идея-Процесс — это идеальный снимок процесса в определённый момент. Пользователи могут загрузить любую точку из прошлого, чтобы проверить, что пошло не так, или запустить сценарий «а что, если?..», создав новую ветку процесса с этого момента.

  > Sidenote:
  > - [202: Идея/Носитель](./202_idea_vessel.md)

- **Масштабирование:** Система может выполнять тысячи одинаковых задач одновременно. Один `План` используется как шаблон, но для каждой задачи создаётся свой отдельный снимок `Состояния`. За один шаг ИИ планирует действия для всех задач сразу, адаптируя план к каждой из них. Это гарантирует, что результат будет одинаково хорошим для всех, и при этом всё работает очень быстро.

  > Sidenote:
  > - [011: Агент/Инстансинг](./011_agent_instancing.md)

## От предсказуемого плана к управляемому выполнению

Идея-Процесс может превратиться в **Завершённый План** — очень надёжный и предсказуемый алгоритм. Но строгость ограничивает гибкость. Нужен способ давать ИИ тонкие подсказки, не ломая уже созданный план.

Эту роль выполняет **[Идея-Инструкция](./204_idea_instruction.md)**. `Инструкция` — это набор правил или принципов, которые направляют ИИ. Она работает как «чек-лист в уме», помогая на двух уровнях: сначала выбрать или создать самый подходящий `План` для задачи, а затем — принимать правильные решения на каждом шагу его выполнения. Проще говоря, `Инструкция` улучшает *логику* и *рассуждения* ИИ, чтобы и общая стратегия, и отдельные действия соответствовали нужным принципам.

> Sidenote:
> - [204: Идея/Инструкция](./204_idea_instruction.md)
