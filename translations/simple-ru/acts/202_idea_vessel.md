# 202: Идея/Носитель

> [!DEFINITION] :term[Идея-Носитель]{canonical="Vessel Idea"}
> Это полностью самостоятельная :term[Идея]{canonical="Idea"}, которая одновременно является и определением возможной реакции, и записью о том, какая реакция была выбрана. Её :term[схема]{canonical="schema"} описывает всю вселенную возможных :term[Инструментов]{canonical="Tool"}, а её :term[решение]{canonical="solution"} фиксирует конкретные :term[Вызовы]{canonical="Call"} (использование этих :term[Инструментов]{canonical="Tool"}), которые были выбраны в ответ на какой-то сигнал.

> Sidenote:
> - Требуется:
>   - [101: Концепция/Идея](./101_concept_idea.md)
>   - [002: Агент/Инструмент](./002_agent_tool.md)
>   - [004: Агент/Вызов](./004_agent_call.md)

**Идея-Носитель** — это как будто «моментальный снимок» реакции умного помощника (агента) на какое-то событие. Представь, что ты сделал фотографию не только того, что произошло, но и всех возможных вариантов, которые могли бы произойти в тот самый момент. Этот «снимок» — это не просто запись, а богатый артефакт, который хранит весь контекст решения. Благодаря этому его можно проверить, изменить и использовать снова.

## 1. Из чего состоит реакция

:term[Идея-Носитель]{canonical="Vessel Idea"} использует тройную структуру :term[Идеи]{canonical="Idea"}, чтобы запечатлеть как саму возможность действия, так и само действие:

> Sidenote:
> - [101: Концепция/Идея](./101_concept_idea.md)

*   **`context` (Что случилось?):** Здесь находится информация о том, что именно заставило помощника действовать. Это как если бы тебе дали задание в игре.
*   **`schema` (Что я могу сделать?):** Это полное описание всех способностей помощника в данный момент. В нём перечислены все :term[Инструменты]{canonical="Tool"}, которые он *мог бы* использовать. Это как твоя книга заклинаний или рюкзак с инструментами в игре.
*   **`solution` (Что я сделал?):** Это запись того, что помощник *на самом деле* сделал. Это список конкретных :term[Вызовов]{canonical="Call"} — то есть, какие именно :term[Инструменты]{canonical="Tool"} из своей «книги заклинаний» он выбрал и применил.

Поскольку :term[Носитель]{canonical="Vessel"} содержит и все возможные варианты (`schema`), и конкретный результат (`solution`), он даёт полную картину принятия решения.

## 2. Сила самостоятельных решений

Именно такая замкнутая структура, как «моментальный снимок», даёт системе её крутые возможности. Упаковывая «что можно сделать» вместе с «что было сделано», :term[Идея-Носитель]{canonical="Vessel Idea"} позволяет:

*   **Проверять и исправлять человеку:** Человек может посмотреть на :term[Носитель]{canonical="Vessel"} и увидеть не только то, что помощник сделал, но и то, что он *мог бы* сделать. После этого можно либо одобрить действие, либо изменить `solution`, выбрав другие :term[Вызовы]{canonical="Call"} из доступной :term[схемы]{canonical="schema"}.
*   **Перепланировать:** Если какое-то действие (:term[Вызов]{canonical="Call"}) не удалось, помощник может переосмыслить ситуацию. У него уже есть вся информация о задаче (`context`) и полный список своих возможностей (`schema`), что позволяет легко выбрать другое действие и создать новый :term[Носитель]{canonical="Vessel"}.
*   **Использовать повторно:** :term[Носитель]{canonical="Vessel"} можно использовать как шаблон или пример для будущих решений в похожих ситуациях.

### 2.1. Интерактивное путешествие во времени

Поскольку :term[Идея-Носитель]{canonical="Vessel Idea"} — это полный, самостоятельный и неизменяемый «снимок», он позволяет совершать своего рода интерактивное путешествие во времени. Загрузив :term[Носитель]{canonical="Vessel"} из прошлого, можно повзаимодействовать с помощником точно таким, каким он был в тот момент.

:term[Схема]{canonical="schema"} гарантирует, что способности помощника «заморожены» во времени. Даже если сегодня у него появились новые :term[Инструменты]{canonical="Tool"}, исторический :term[Носитель]{canonical="Vessel"} покажет только те варианты, которые были доступны на момент его создания. Это позволяет пользователю или другому помощнику:

*   **Воспроизвести прошлое:** В точности воссоздать принятое ранее решение.
*   **Исследовать альтернативы:** Дать старому :term[Носителю]{canonical="Vessel"} другую задачу (`context`), чтобы запустить сценарий «а что, если...» и посмотреть, как та прошлая версия помощника отреагировала бы на другие события.

Это мощный инструмент для отладки, проверки и понимания того, как поведение помощника меняется со временем.

## 3. Носитель в цикле работы

:term[Носитель]{canonical="Vessel"} представляет собой один «шаг» или «ход» в рабочем цикле. Это решение, принятое и записанное за одну итерацию. Результаты его действий (:term[Вызовов]{canonical="Call"} ) затем передаются обратно в `context` для следующего шага, что может привести к созданию нового :term[Носителя]{canonical="Vessel"}.

> Sidenote:
> - [010: Агент/Цикл](./010_agent_loop.md)

Такой реактивный подход отлично подходит для создания помощников, которые могут разумно реагировать на события в реальном времени. Однако он не предназначен для организации сложных, многоэтапных задач, требующих памяти и долгосрочной стратегии.

## 4. От мгновенных реакций к продуманным планам

Хотя :term[Носитель]{canonical="Vessel"} полностью записывает одну реакцию, для достижения больших целей нужна структура, которая может управлять многошаговыми действиями. Эту роль выполняет **Идея-Процесс**, которая применяет те же принципы «моментального снимка», но уже к продуманному плану действий с сохранением состояния.

> Sidenote:
> - [203: Идея/Процесс](./203_idea_process.md)
