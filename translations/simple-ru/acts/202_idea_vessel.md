# 202: Идея/Носитель

> [!DEFINITION] [Идея-Носитель](./000_glossary.md)
> Это самодостаточная `Идея`, которая одновременно является и описанием возможной реакции, и записью о том, какая реакция была выбрана. Её `schema` определяет всё множество возможных `Инструментов`, а её `solution` сохраняет конкретные `Вызовы` (экземпляры этих `Инструментов`), которые были выбраны в ответ на стимул.

> Sidenote:
> - Требуется:
>   - [101: Концепция/Идея](./101_concept_idea.md)
>   - [002: Агент/Инструмент](./002_agent_tool.md)
>   - [004: Агент/Вызов](./004_agent_call.md)

**Идея-Носитель** — это полный, самодостаточный «снимок» мгновенной реакции агента на какое-то событие. Это больше, чем просто запись о том, что произошло; это богатый артефакт, который содержит всю информацию о принятом решении, что делает его проверяемым, адаптируемым и пригодным для повторного использования.

## 1. Анатомия реакции

`Идея-Носитель` использует основную тройку `Идеи`, чтобы зафиксировать как возможность действия, так и само действие:

> Sidenote:
> - [101: Концепция/Идея](./101_concept_idea.md)

- **`context` (Стимул):** Здесь содержится информация, которая вызвала реакцию агента. Представь, что ты пришёл в кафе, потому что проголодался. Голод — это стимул.
- **`schema` (Определение):** Это описание всех возможных реакций агента в данный момент. Оно описывает каждый `Инструмент`, который агент *мог бы* использовать. Это как меню в кафе, где перечислены все блюда, которые ты *мог бы* заказать.
- **`solution` (Экземпляр):** Это запись о том, что агент *на самом деле* сделал. Это массив, содержащий конкретные `Вызовы` — то есть реальные `Инструменты` из `schema`, которые были выбраны и использованы. По аналогии с кафе, это твой конкретный заказ — пицца и сок.

Поскольку `Носитель` содержит и все возможные варианты (`schema`), и конкретный результат (`solution`), он даёт полную картину одного момента принятия решения.

## 2. Сила самодостаточных решений

Именно такая замкнутая структура даёт системе её продвинутые возможности. Упаковывая описание вместе с результатом, `Идея-Носитель` по своей сути поддерживает:

- **Проверку и корректировку человеком:** Человек может посмотреть на `Носитель` и увидеть не только то, что агент сделал, но и то, что он *мог бы* сделать. Затем можно одобрить действие или изменить `solution`, выбрав другие `Вызовы` из предложенной `schema`.
- **Перепланирование:** Если `Вызов` не удался, агент может пересмотреть ситуацию. У него уже есть полный `context` и вся `schema` с вариантами, что позволяет легко выбрать альтернативный `Вызов` и создать новый `Носитель`.
- **Повторное использование:** `Носитель` можно использовать как шаблон или пример для будущих решений в похожих ситуациях.

### 2.1. Интерактивное путешествие во времени

Поскольку `Идея-Носитель` — это полный, самодостаточный и неизменяемый снимок, он позволяет совершать своего рода интерактивные путешествия во времени. Загрузив `Носитель` из прошлого, можно повзаимодействовать с агентом именно в том виде, в котором он существовал в тот момент.

`schema` гарантирует, что возможности агента заморожены во времени. Даже если обычный агент с тех пор был обновлён и получил новые `Инструменты`, исторический `Носитель` предложит только те варианты, которые были доступны на момент его создания. Это позволяет пользователю или другому агенту:

- **Воспроизвести историю:** Полностью воссоздать прошлое решение.
- **Исследовать альтернативы:** Дать историческому `Носителю` другой `context`, чтобы проиграть сценарии «а что, если?..» и посмотреть, как прошлая версия агента отреагировала бы на другие входные данные.

Это мощный инструмент для отладки, проверки и понимания того, как поведение агента менялось со временем.

## 3. Носитель в цикле выполнения

`Носитель` представляет собой один тактический шаг в цикле выполнения. Это решение, принятое и записанное за одну итерацию. Результаты его `Вызовов` затем передаются в `context` для следующего шага, что может привести к созданию нового `Носителя`.

> Sidenote:
> - [005: Агент/Цикл](./005_agent_loop.md)

Такой реактивный подход очень хорош для создания агентов, которые могут разумно реагировать на события в реальном времени. Однако он не предназначен для организации сложных, многошаговых задач, требующих памяти и долгосрочной стратегии.

## 4. От мгновенных реакций к продуманным планам

В то время как `Носитель` предоставляет полную запись одной реакции, для достижения больших целей нужна структура для продуманного, многошагового выполнения. Эту роль выполняет **Идея-Процесс**, которая применяет те же принципы самодостаточности к стратегическому, запоминающему состояние рабочему процессу.

> Sidenote:
> - [203: Идея/Процесс](./203_idea_process.md)
