# 012: Агент/План

> **План:** Это как схема или рецепт, состоящий из шагов (`Tool Calls`). Эта схема показывает, в каком порядке нужно выполнять действия. Некоторые шаги зависят от результатов предыдущих, потому что они используют общую информацию из «Объекта Состояния» (`State Object`).
>
> — [Словарь](./000_glossary.md)

> [!WARNING]
> Этот документ — пока что черновик, и в будущем он будет дополнен. Он описывает основную идею Планов как более сложной системы, построенной на основе систем Состояния и Вызовов.

> Sidenote:
>
> - Требует:
>   - [Агент/Запрос](./004_agent_call.md)
>   - [Агент/Цикл](./005_agent_loop.md)
>   - [Агент/Состояние](./010_agent_state.md)
>   - [Агент/Инстансинг](./011_agent_instancing.md)

Этот документ объясняет **Протокол Плана** — систему, которая позволяет создавать и выполнять сложные задачи, состоящие из множества шагов. Представь себе это как очень подробный рецепт или план по сборке сложной модели из LEGO. Шаги в этом плане организованы как схема, похожая на дерево решений (технически это называется направленный ациклический граф, или DAG), где каждый шаг — это `Tool Call` (Вызов Инструмента).

Такая структура позволяет создавать умные цепочки действий. Например:
*   **Делать выбор:** Если один шаг получился хорошо, идти по одной ветке плана, а если нет — по другой.
*   **Объединять результаты:** Выполнять несколько задач одновременно, а потом собирать их результаты вместе для следующего шага.
*   **Работать параллельно:** Запускать независимые `Call` (Запросы) в одно и то же время, чтобы сэкономить время.

`Plan` (План) — это готовая к выполнению схема действий, которая запускается внутри **[Агента/Цикла](./005_agent_loop.md)**. Если один проход цикла может выполнить несколько простых `Call` (Запросов) одновременно, то `Plan` позволяет агенту следовать целой последовательности шагов, где одно действие зависит от другого. По сути, План — это как дирижёр для оркестра, который управляет целой серией циклов, чтобы достичь одной большой цели.