# 006: Агент/Импорты

> **Импорт:** Это как специальный ключик, который открывает доступ к нужной информации из окружающего мира. Эту информацию можно «импортировать» (принести) для выполнения какой-то задачи. С помощью импорта можно помочь AI сфокусироваться на чём-то важном во время **скрытого исполнения** прямо здесь и сейчас, или собрать целый рюкзак с инструментами для большой задачи в отдельной «мастерской» (**модульное исполнение**). За всё это отвечает свойство `_imports`.
>
> — [Словарь](./000_glossary.md)

Мы уже говорили о [Протоколе Вызова](./003_agent_call.md), который похож на выбор режима для нашего робота-помощника: он может работать **здесь и сейчас** (Inline) или уйти в **отдельную мастерскую** (Module), а также может **физически что-то сделать** (Explicit) или просто **подумать и выдать ответ** (Latent). «Протокол Импортов» — это инструкция, которая объясняет, как правильно снабжать робота нужной информацией и инструментами для каждого из этих режимов.

## Совмещаем режимы работы

1.  **Здесь и сейчас + Сделать (`_activity`)**: Это самый обычный способ использования инструмента. Представь, что AI — это калькулятор. Он получает от тебя числа (`params`), и тут же нажимаются кнопки для вычисления. Ему не нужна никакая дополнительная информация извне, поэтому `_imports` здесь обычно не используются.

2.  **Здесь и сейчас + Подумать (без `_activity`)**: А здесь AI не просто использует готовый инструмент, а сам думает и сразу выдаёт готовый ответ (`_output`). Свойство `_imports` здесь — это как твоя подсказка. Например, ты просишь друга: «Посоветуй мне фильм». Чтобы он не вспоминал всё подряд, ты уточняешь: «Думай только о комедиях». Эта подсказка помогает ему сфокусироваться и не отвлекаться на ненужное.

3.  **В мастерской + Сделать (`_module` + `_activity`)**: Это как отправить дрона с посылкой (`params`) на специальную фабрику (`_module`). На фабрике есть робот (`_activity`), который должен что-то с этой посылкой сделать. Фабрика — это чистое, изолированное место. Если нужно, с помощью `_imports` ты можешь положить в посылку нужные чертежи или детали из своего мира, чтобы робот на фабрике точно понял задачу.

4.  **В мастерской + Подумать (`_module`, без `_activity`)**: Тут ты отправляешь на фабрику (`_module`) не просто посылку, а целое задание (`params`). На фабрике другой умный AI начинает над ним работать. Чтобы у него всё получилось, ты с помощью `_imports` отправляешь ему всю необходимую информацию — нужные книги, справочники и данные. Он использует их вместе с тем, что уже есть на фабрике, чтобы придумать решение.

## Наводим фокус

Свойство `_imports` — это наш главный пульт управления информацией. Он работает как фейс-контроль в клубе: решает, какую информацию пропустить, а какую — оставить за дверью. Это создаёт для AI ограниченное поле зрения, чтобы он не отвлекался.

- **Когда работаем «здесь и сейчас»**: `_imports` помогает AI сфокусировать внимание, как будто он надевает шоры, чтобы видеть только то, что прямо перед ним.
- **Когда работаем «в мастерской»**: `_imports` определяет **вообще всё**, что будет в этой мастерской. Если чего-то нет в списке импорта, этого просто не будет в комнате.

## Дать заранее или спросить потом: Статические и Динамические импорты

Представь, что `_imports` — это список вещей для похода. Этот список можно составить двумя способами.

- **Статические импорты (выдать заранее)**: Это как если бы родители собрали тебе рюкзак в лагерь по строгому списку, который нельзя менять. Например, в правилах инструмента `const` прописано, что он может видеть только `["user_request"]` — запрос пользователя. Создатель инструмента заранее жёстко решил, что ему можно, а что нельзя.

- **Динамические импорты (спросить потом)**: А это как если бы тебе дали список всего, что *можно* взять в поход (`enum`), и ты сам решаешь, что тебе понадобится в этот раз. AI смотрит на список доступных данных (например, `["session_memory"]` — память о прошлой беседе) и говорит: «О, мне это пригодится, дайте мне доступ!».

Этот динамический способ очень полезен, когда рядом есть человек. AI может что-то попросить, а ты посмотришь и решишь: «Хорошо, это я тебе разрешаю». Это даёт отличный контроль и понимание того, что происходит.

## Сила ограниченной информации

- **Безопасность и Фокус**: Ограничивая поле зрения, импорты не дают AI случайно увидеть или рассказать что-то секретное. Это помогает ему сосредоточиться, работать точнее, быстрее и не тратить ресурсы впустую.
- **Удобные «кубики» LEGO**: Благодаря импортам, наши модули (`Ideas` и `Activities`) становятся как отдельные, независимые наборы LEGO. У каждого есть своя инструкция и нужные детали, и их можно легко использовать для постройки самых разных вещей.