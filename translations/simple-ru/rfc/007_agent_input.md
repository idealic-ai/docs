# 007: Агент/Ввод

> **Сообщение о вводе:** Это особое сообщение, в котором есть «схема» (`schema`) и «входные данные» (`input`). Когда оно появляется, обычная «Идея» (`Idea`) превращается в «Идеатор» (`Ideator`), потому что теперь мы знаем, какую информацию она ждёт. — [Словарь](./000_glossary.md)

> Sidenote:
>
> - Требует: [101: Концепция/Идея](./101_concept_idea.md)
> - Открывает возможность для: [103: Концепция/Идеатор](./103_concept_ideator.md)

Этот документ объясняет **Протокол Ввода** — систему, которая позволяет чётко определить, какие данные нужны «Идеям» для работы. Этот протокол добавляет специальный тип сообщения. Если такое сообщение есть в «Идее», она превращается из простого кусочка знаний в нечто, что можно запустить, как программу. Такую «Идею» мы называем **Идеатором**.

## Тип сообщения `Input`

Сообщение `Input` — это особый способ официально объявить, какие данные принимает «Идея». Представь, что у тебя есть рецепт пирога. Это и есть твоя «Идея». Чтобы испечь пирог (`solution`, то есть «решение»), тебе нужны определённые ингредиенты (входные данные). Сообщение `Input` — это и есть список этих ингредиентов.

Благодаря этому мы получаем полную запись всего процесса: что было нужно, что получилось, и по каким правилам. Это как полная лабораторная работа!

В сообщении `Input` есть два главных поля:

1.  **`schema`**: Это как чертёж или набор правил. Он описывает, какие именно данные нужны: например, «нужно число», «нужна строка текста» или «в тексте должно быть не больше 100 букв».
2.  **`input`**: Это уже конкретные данные, которые ты вводишь, и они должны соответствовать правилам из `schema`. Например, если `schema` говорит «нужно число», то `input` будет `10`.

Описывая входные данные таким образом, любая «Идея» может рассказать не только о том, что она создаёт, но и о том, что ей для этого требуется.

### Дверь в мир удобства

Самое классное в этом протоколе то, что он позволяет автоматически создавать интерфейс для пользователя. Раз `schema` чётко описывает, какие данные нужны, система может сама нарисовать веб-страницу с нужными полями для ввода, кнопками и подсказками.

Это значит, что любую «Идею» можно мгновенно превратить в простую и понятную программку, с которой может работать любой человек. Больше не нужно быть программистом, чтобы её использовать!

## От Идеи к Идеатору

Как мы уже говорили в документе [101: Концепция/Идея](./101_concept_idea.md), наличие сообщения `Input` в «Идее» — это главный знак того, что перед нами **Идеатор**. То есть, это «Идея», которая умеет выполнять работу, как маленькая программа или рецепт, который можно повторить.

## Как это работает с Протоколом Инстансинга

Сообщение `Input` отлично дружит с [Протоколом Инстансинга](./011_agent_instancing.md). Это позволяет создавать очень хитрые способы обработки данных, когда нужно сделать много однотипных задач за раз.

Представь, что ты — кондитер, и тебе нужно испечь 100 кексов (`инстансов`). Ты используешь один и тот же рецепт (`Идеатор`).

Сообщение `Input` может работать в двух режимах:

1.  **Общий ввод**: Если ты задал температуру для духовки, она будет одинаковой для всех 100 кексов. Это и есть «общий ввод» — одни и те же данные, которые применяются ко всем задачам сразу. В коде это выглядит как сообщение `Input` без специальной метки `_instance`.

2.  **Индивидуальный ввод**: Но что, если ты хочешь, чтобы 50 кексов были с шоколадом, а 50 — с изюмом? Это уже «индивидуальный ввод». Каждому кексу (`инстансу`) ты даёшь свою уникальную начинку. Система понимает, какому кексу какая начинка нужна, потому что у каждого есть своя метка `_instance`.

Эта возможность работать в двух режимах позволяет создавать очень гибкие и быстрые процессы, где один и тот же `Идеатор` можно настроить с общими параметрами, а потом добавить уникальные детали для каждой отдельной задачи.

## Переворот: от Идеатора к Инструменту

`Идеатор` — это самодостаточная, исполняемая концепция. Но чтобы агент мог использовать его в своей работе, `Идеатор` нужно превратить в **Инструмент** (`Tool`). Этот процесс превращения мы называем **инверсией**, или «переворачиванием».

Мы как бы выворачиваем его наизнанку, чтобы главным стали не результаты его работы, а то, что ему нужно для начала.

«Идея» — это триада, описываемая своим результатом:
`{ context, schema, solution }` (контекст, схема результата, сам результат)

Чтобы превратить её в `Инструмент`, мы заглядываем в её `context` и находим там сообщение `Input`. Главный шаг инверсии — **вынести наверх** правила для ввода (`schema` из `input`) и сделать их главными параметрами `Инструмента` (подробнее об этом в документе [002: Агент/Инструмент](./002_agent_tool.md)).

Представь `Идеатор` как готовый торт с приложенной к нему карточкой, где написано, из чего он сделан. Чтобы превратить его в `Инструмент`, мы берём эту карточку, но вместо того, чтобы смотреть на торт, мы смотрим на список ингредиентов. Мы делаем этот список главной частью, как бы обложкой. Теперь это уже не просто торт, а многоразовый рецепт, который агент может использовать в любой момент, когда ему понадобится испечь такой же торт.