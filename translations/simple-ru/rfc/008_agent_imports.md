# 008: Агент/Импорты

> **Импорт:** Это как пропуск, который показывает, какую именно информацию из окружающей среды можно взять для выполнения задачи. Его можно использовать, чтобы помочь искусственному интеллекту (ИИ) сосредоточиться на чём-то важном при **Скрытом Встроенном** выполнении или чтобы собрать всю нужную информацию для задачи, выполняемой в отдельном **Модульном пространстве**. Управляется это свойством `_imports`. — [Глоссарий](./000_glossary.md)

В документе [004: Агент/Вызов](./004_agent_call.md) мы говорили о главных способах выполнения команд: **Пространство** (Встроенное или Модульное) и **Метод** (Явный или Скрытый). Правила Импорта объясняют, как совмещать эти способы и как правильно давать ИИ нужную информацию для каждой задачи.

## Совмещаем Пространство и Метод

Представь, что у ИИ есть четыре способа работать:

1.  **Встроенный Явный (`_activity`)**: Это самый обычный способ использования инструментов. Например, ты говоришь ИИ «посчитай 2+2». Он сразу же использует калькулятор (`_activity`) и выдаёт ответ. Ему не нужна никакая дополнительная информация, поэтому `_imports` здесь обычно не используются.

2.  **Встроенный Скрытый (без `_activity`)**: Здесь ИИ сам придумывает и задачу, и ответ за один раз. Например, ты спрашиваешь: «Какую смешную подпись придумать к этой фотографии?». Чтобы помочь ему, ты можешь использовать `_imports`, чтобы сказать: «Смотри только на текст в моём последнем сообщении». Это помогает ИИ не отвлекаться на старые переписки и сосредоточиться на главном.

3.  **Модульный Явный (`_module` + `_activity`)**: Представь, что ИИ — это главный архитектор, который просит помощника (`_module`) построить башню по определённой инструкции (`_activity`). Архитектор даёт помощнику записку (`_imports`) с точной высотой башни. Помощник уходит в отдельную комнату (изолированный контекст) и строит башню, используя только детали из своего набора и информацию из записки.

4.  **Модульный Скрытый (`_module`, без `_activity`)**: Ты просишь опытного художника (`_module`) нарисовать портрет. Ты не даёшь ему пошаговых инструкций, а просто передаёшь фотографию (`_imports`). Художник уходит в свою студию (изолированный контекст), и, используя своё мастерство и предоставленное фото, создаёт картину. Фотография — это вся информация, которую он получил извне.

## Сужаем поле зрения

Свойство `_imports` — это главный способ контролировать, какую информацию видит ИИ. Это как надеть на него шоры, как у лошади, чтобы она не отвлекалась и смотрела только вперёд. `_imports` — это список того, что ИИ разрешено видеть.

- **Во Встроенном Пространстве**: `_imports` помогают ИИ сконцентрироваться.
- **В Модульном Пространстве**: `_imports` определяют *всю информацию*, которую ИИ будет видеть в своей отдельной «комнате».

## Дать информацию заранее или по запросу: Статические и Динамические импорты

То, как прописано свойство `_imports` в правилах для Инструмента, определяет, кто решает, какая информация нужна: человек-создатель или сам ИИ.

- **Статические импорты (Информация предоставляется)**: Если в правилах чётко прописано, например, `_imports: { "const": ["user_request"] }`, это значит, что создатель инструмента заранее решил, что этот инструмент может видеть *только* запрос пользователя. Это как дать работнику пропуск, который открывает только одну дверь. Информация **предоставляется** заранее.

- **Динамические импорты (Информация запрашивается)**: Если же правила более гибкие (например, `_imports: { "type": "array", "items": { "enum": ["session_memory"] } }`), то ИИ сам решает, что ему нужно. Это похоже на умный ящик с ключами. ИИ подходит к нему и говорит: «Для этой задачи мне нужен ключ от комнаты с воспоминаниями (`session_memory`)». ИИ **запрашивает** то, что ему нужно, из списка разрешённых вещей.

Этот второй способ особенно полезен, когда человек может одобрить запрос ИИ. Это делает систему безопасной и прозрачной.

## Сила ограничений

- **Безопасность и Фокус**: Ограничивая то, что видит ИИ, мы защищаем личные данные от случайной утечки. Это также помогает ИИ лучше концентрироваться, делать меньше ошибок, работать быстрее и дешевле.
- **Удобные «кубики»**: Импорты позволяют создавать модули (Идеи и Действия), которые похожи на кубики LEGO. Каждый кубик — это самостоятельный помощник. Ему не нужно знать всё о замке, который ты строишь. Ты просто даёшь ему нужную деталь (информацию), он выполняет свою работу, и ты можешь использовать этот же кубик в любом другом проекте.