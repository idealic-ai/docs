# Evolution Draft: 2025-10-29

> Status: Draft
> Source: https://github.com/idealic-ai/platform/pull/56

## Обзор (Summary)

Ревью сосредоточено на улучшении документации и системных инструкций для новой функциональности "Variable References".

1.  **Чего хотел ревьюер:**
    - Уточнить назначение системы: не только чтение, но и сохранение состояния между итерациями цикла ("инстансинг").
    - Сделать инструкции более явными и понятными для LLM (заменить "providing values" на конкретные сценарии использования).
    - Соблюсти конвенции именования (добавить `¶` в заголовок).
2.  **С чем согласился автор:** (Подразумевается согласие с улучшением документации, явное несогласие только по поводу символа `¶`).
3.  **Общий контекст:** Внедрение системы ссылок на переменные (Variable References) для оптимизации контекста и работы с состоянием в циклах.
4.  **Недопонимания (если есть):** Дискуссия о необходимости символа `¶` в заголовках системных сообщений.
5.  **Открытые вопросы (если есть):** Нет.
6.  **Новые открытия:** Нет.
7.  **Связанные документы:** Нет.

## Список Намерений (Intent List)

### 1. Конвенция именования заголовков

- **Намерение:** Соблюсти единообразие в заголовках данных и системных сообщений.
- **Действие:** Предложено добавить `¶` к заголовку `Variable References` в системном промпте.
- **Статус:** Недопонимание / Отклонено автором.
- **Прежнее понимание (если применимо):** Все разделы данных должны иметь маркер типа.
- **Результат:** Автор считает, что для системных сообщений с markdown это излишне и выглядит некрасиво.
- **Контекст:**
  > [Inviz](https://github.com/idealic-ai/platform/pull/56#discussion_r2472457206): "тут должен бы быть `¶Variable References` по конвенции"
  >
  > [akoppela](https://github.com/idealic-ai/platform/pull/56#discussion_r2480105005): "Это же системного сообщений с маркдауном. Тут параграф не особо нужен"

### 2. Уточнение назначения (Instancing & Loop)

- **Намерение:** Сразу объяснить агенту в разделе Purpose, что переменные нужны не только для чтения, но и для сохранения состояния между итерациями цикла.
- **Действие:** Дополнить раздел "Purpose" информацией о сохранении значений (инстансинге) и работе в цикле.
- **Статус:** Требует изменения.
- **Результат:** Необходимо обновить документацию для ясности.
- **Контекст:**
  > [Inviz](https://github.com/idealic-ai/platform/pull/56#discussion_r2472460880): "инстансинг тоже надо воткнуть сюда. Purpose как будто не до конца обьясняет. Не только референсить значения но и сохранять их в цикле"

### 3. Улучшение формулировок инструкций

- **Намерение:** Сделать объяснение работы с переменными более понятным и инструктивным для модели.
- **Действие:** Заменить расплывчатое "providing values" на четкое описание: референс без копирования и запись в стейт для переноса в цикле.
- **Статус:** Требует изменения.
- **Результат:** Необходимо переписать инструкцию, используя предложенную структуру.
- **Контекст:**
  > [Inviz](https://github.com/idealic-ai/platform/pull/56#discussion_r2472466822): "providing values расплывчатая формулировка... Я бы обьяснил так: Ты можешь их референсить без копирования... И ты можешь записывать туда сам значения в стейт..."
  >
  > _Diff Context:_ `+**Reading from data:**`

---

## Отчет о валидации (Validation Report)

| Comment ID                                                                          | Intent # | Status           |
| ----------------------------------------------------------------------------------- | -------- | ---------------- |
| [2472457206](https://github.com/idealic-ai/platform/pull/56#discussion_r2472457206) | 1        | Included         |
| [2480105005](https://github.com/idealic-ai/platform/pull/56#discussion_r2480105005) | 1        | Included         |
| [2472460880](https://github.com/idealic-ai/platform/pull/56#discussion_r2472460880) | 2        | Included         |
| [2472463477](https://github.com/idealic-ai/platform/pull/56#discussion_r2472463477) | 2        | Included (Suppl) |
| [2472466822](https://github.com/idealic-ai/platform/pull/56#discussion_r2472466822) | 3        | Included         |
