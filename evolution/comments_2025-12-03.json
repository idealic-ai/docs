[
  [
    {
      "body": "другое дело",
      "created_at": "2025-12-03T22:42:26Z",
      "diff_hunk": "@@ -194,20 +175,29 @@ export namespace Hand {\n       }\n     }\n \n-    // Create new hand with assigned blinds\n-    const newBlinds = new Array(hand.players.length).fill(0);\n+    // Find existing BB position (preserves button position)\n+    const currentBBIndex = hand.blindsOrStraddles.findIndex(b => b === bbValue);\n+\n+    // Determine BB position: use existing or default to second playable\n+    const bbIndex = currentBBIndex >= 0 ? currentBBIndex : playableIndices[1];\n \n+    // Determine SB position: left of BB among playable players\n+    let sbIndex: number;\n     if (playableIndices.length === 2) {\n-      // Heads-up: first playable = SB (button), second playable = BB\n-      newBlinds[playableIndices[0]] = sbValue;\n-      newBlinds[playableIndices[1]] = bbValue;\n-    } else if (playableIndices.length >= 3) {\n-      // 3+ players: first playable = SB, second playable = BB\n-      newBlinds[playableIndices[0]] = sbValue;\n-      newBlinds[playableIndices[1]] = bbValue;\n+      // Heads-up: SB is the other player\n+      sbIndex = playableIndices[0] === bbIndex ? playableIndices[1] : playableIndices[0];\n+    } else {\n+      // 3+ players: SB is the playable player immediately left of BB\n+      const bbPlayablePos = playableIndices.indexOf(bbIndex);\n+      const sbPlayablePos = bbPlayablePos <= 0 ? playableIndices.length - 1 : bbPlayablePos - 1;\n+      sbIndex = playableIndices[sbPlayablePos];\n     }\n \n-    // Validate generated hand with blinds assigned\n+    // Assign blinds\n+    const newBlinds = new Array(hand.players.length).fill(0);",
      "html_url": "https://github.com/idealic-ai/platform/pull/72#discussion_r2586845052",
      "id": 2586845052,
      "in_reply_to_id": null,
      "user": "Inviz"
    }
  ]
]
